(this.webpackJsonpworkproject=this.webpackJsonpworkproject||[]).push([[9],{392:function(e,t,c){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__2Y1mw",contacts:"ProfileInfo_contacts__1ifIm"}},478:function(e,t,c){"use strict";c.r(t);var o=c(0),i=c.n(o),s=c(392),r=c.n(s),n=c(137),a=c(375),l=c(1),b=i.a.memo((function(e){var t=Object(o.useState)(!1),c=Object(a.a)(t,2),i=c[0],s=c[1],r=Object(o.useState)(e.status),n=Object(a.a)(r,2),b=n[0],j=n[1];return Object(l.jsx)("div",{children:i?Object(l.jsx)("div",{children:Object(l.jsx)("input",{onChange:function(e){j(e.currentTarget.value)},autoFocus:!0,onBlur:function(){e.isAuth&&(s(!1),e.updateProfileStatus(b))},type:"text",value:b})}):Object(l.jsx)("div",{children:Object(l.jsx)("span",{onDoubleClick:function(){e.isOwner&&e.isAuth&&(s(!0),j(e.status))},children:e.status||"no status"})})})})),j=c(138),u=c(8),d=c(13),O=c.n(d),p=c(22),f=c(398),h=c(91),x=c(44),m=c(473),v=c(475),g=c(476);function k(){return Math.round(20*Math.random())-10}function w(){var e=50+k(),t=50+k();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var y=Object(m.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),N=i.a.memo((function(e){var t=Object(x.c)(),c=Object(x.d)((function(e){return e.profilePage.error})),i=Object(o.useState)(c),s=Object(a.a)(i,2),n=s[0],b=s[1],j=y(),d=Object(o.useState)(w),m=Object(a.a)(d,1)[0],k=Object(o.useState)(!1),N=Object(a.a)(k,2),A=N[0],F=N[1],J=function(){F(!1)},M=Object(f.d)({enableReinitialize:!0,initialValues:{userId:e.profile.userId,aboutMe:e.profile.aboutMe,fullName:e.profile.fullName,lookingForAJob:e.profile.lookingForAJob,lookingForAJobDescription:e.profile.lookingForAJobDescription,contacts:{vk:e.profile.contacts.vk,github:e.profile.contacts.github,instagram:e.profile.contacts.instagram,facebook:e.profile.contacts.facebook,twitter:e.profile.contacts.twitter,website:e.profile.contacts.website,youtube:e.profile.contacts.youtube,mainLink:e.profile.contacts.mainLink},photos:{small:"",large:""}},validate:function(e){var t={};return e.aboutMe||(t.aboutMe="Required"),e.fullName||(t.fullName="Required"),e.lookingForAJobDescription||(t.lookingForAJobDescription="Required"),t},onSubmit:function(){var e=Object(p.a)(O.a.mark((function e(c){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(Object(h.f)(c));case 3:J(),b(""),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),h.d.setError(e.t0),b(e.t0);case 11:M.resetForm();case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}),P=Object(l.jsx)("div",{style:m,className:j.paper,children:Object(l.jsxs)("form",{onSubmit:M.handleSubmit,children:[n&&Object(l.jsx)("div",{style:{border:"1px solid red",color:"darkred",padding:"10px"},children:n}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"About Me:"}),Object(l.jsx)(v.a,Object(u.a)({type:"aboutMe"},M.getFieldProps("aboutMe"))),M.touched.aboutMe&&M.errors.aboutMe&&Object(l.jsx)("div",{style:{color:"red"},children:M.errors.aboutMe})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"Full name:"}),Object(l.jsx)("input",Object(u.a)({type:"fullName"},M.getFieldProps("fullName"))),M.touched.fullName&&M.errors.fullName&&Object(l.jsx)("div",{style:{color:"red"},children:M.errors.fullName})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"Looking for job:"}),Object(l.jsx)("input",{type:"checkbox"})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"My skills:"}),Object(l.jsx)("input",Object(u.a)({type:"lookingForAJobDescription"},M.getFieldProps("lookingForAJobDescription"))),M.touched.lookingForAJobDescription&&M.errors.lookingForAJobDescription&&Object(l.jsx)("div",{style:{color:"red"},children:M.errors.lookingForAJobDescription})]}),Object(l.jsx)("b",{children:"Contacts:"}),Object.keys(e.profile.contacts).map((function(e,t){return Object(l.jsxs)("div",{className:r.a.contacts,children:[Object(l.jsxs)("b",{children:[e,":"]}),Object(l.jsx)("div",{children:Object(l.jsx)("input",Object(u.a)({type:"contacts.".concat(e)},M.getFieldProps("contacts.".concat(e))))})]},t)})),Object(l.jsx)("button",{disabled:!M.isValid,type:"submit",color:"primary",children:"save"})]})});return console.log(e.isAuth,e.isOwner),Object(l.jsxs)("div",{children:[e.isOwner&&Object(l.jsx)("button",{type:"button",disabled:!e.isAuth,onClick:function(){F(!0)},children:"update profile"}),Object(l.jsx)(g.a,{open:A,onClose:J,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:P}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"About me:"})," ",e.profile.aboutMe]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"Name:"})," ",e.profile.fullName]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"Looking for a job:"})," ",e.profile.lookingForAJob?"yes":"no"]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"My Skills:"})," ",e.profile.lookingForAJobDescription]}),Object(l.jsx)("b",{children:" Contacts:"}),Object(l.jsxs)("div",{className:r.a.contacts,children:[Object(l.jsx)("b",{children:"vk:"})," ",e.profile.contacts.vk]}),Object(l.jsxs)("div",{className:r.a.contacts,children:[Object(l.jsx)("b",{children:"github:"})," ",e.profile.contacts.github]}),Object(l.jsxs)("div",{className:r.a.contacts,children:[Object(l.jsx)("b",{children:"youtube:"})," ",e.profile.contacts.youtube]}),Object(l.jsxs)("div",{className:r.a.contacts,children:[Object(l.jsx)("b",{children:"facebook:"})," ",e.profile.contacts.facebook]}),Object(l.jsxs)("div",{className:r.a.contacts,children:[Object(l.jsx)("b",{children:"website:"})," ",e.profile.contacts.website]}),Object(l.jsxs)("div",{className:r.a.contacts,children:[Object(l.jsx)("b",{children:"mainLink:"})," ",e.profile.contacts.mainLink]}),Object(l.jsxs)("div",{className:r.a.contacts,children:[Object(l.jsx)("b",{children:"instagram:"})," ",e.profile.contacts.instagram]}),Object(l.jsxs)("div",{className:r.a.contacts,children:[Object(l.jsx)("b",{children:"twitter:"})," ",e.profile.contacts.twitter]})]})})),A=c(351),F=c(480),J=i.a.memo((function(e){var t=Object(x.d)((function(e){return e.auth.data.isAuth}));if(!e.profile)return Object(l.jsx)(n.a,{});return Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:r.a.descriptionBlock,children:[Object(l.jsxs)("div",{children:[Object(l.jsx)(A.a,{size:{xs:24,sm:32,md:40,lg:64,xl:80,xxl:100},icon:Object(l.jsx)(F.a,{}),src:e.photos.large||j.a,alt:"profile pic"}),e.isOwner&&Object(l.jsx)("input",{type:"file",disabled:!t,onChange:function(t){t.target.files&&e.saveUserPhoto(t.target.files[0])}}),Object(l.jsx)(b,{status:e.status,updateProfileStatus:e.updateProfileStatus,isOwner:e.isOwner,isAuth:t})]}),Object(l.jsx)(N,{isOwner:e.isOwner,profile:e.profile,isAuth:t})]})})})),M=i.a.memo((function(){var e=Object(x.c)(),t=Object(x.d)((function(e){return e.profilePage})),c=t.status,o=t.profile,i=t.isOwner;return Object(l.jsx)("div",{children:Object(l.jsx)(J,{status:c,profile:o,updateProfileStatus:function(t){e(Object(h.g)(t))},photos:o.photos,saveUserPhoto:function(t){e(Object(h.e)(t))},isOwner:i})})})),P=c(21),S=i.a.memo((function(e){var t=Object(x.c)(),c=Object(x.d)((function(e){return e.auth.data.id})),i=Object(P.h)().userId,s=Object(x.d)((function(e){return e.profilePage.setToggle})),r=Object(x.d)((function(e){return e.auth.data.isAuth}));return Object(o.useEffect)((function(){r&&(i||null==c?(t(Object(h.a)(Number(i))),t(Object(h.c)(Number(i))),t(h.d.isOwner(!1))):(t(Object(h.a)(c)),t(Object(h.c)(c)),t(h.d.isOwner(!0))))}),[i,c]),Object(l.jsx)("div",{children:s?Object(l.jsx)(M,{}):Object(l.jsx)(n.a,{})})}));t.default=S}}]);
//# sourceMappingURL=9.96be9619.chunk.js.map