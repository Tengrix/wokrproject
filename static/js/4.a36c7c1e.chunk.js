(this.webpackJsonpworkproject=this.webpackJsonpworkproject||[]).push([[4],{242:function(t,e,o){t.exports={formControl:"FormControl_formControl__3bI51",error:"FormControl_error__2p-ba",formSummaryError:"FormControl_formSummaryError__2aYFp"}},244:function(t,e,o){"use strict";o.d(e,"b",(function(){return a})),o.d(e,"a",(function(){return l}));var r=o(3),s=o(243),c=(o(0),o(242)),i=o.n(c),n=o(2),a=function(t){var e=t.input,o=t.meta,c=Object(s.a)(t,["input","meta"]),a=o.touched&&o.error;return Object(n.jsxs)("div",{className:i.a.formControl+""+(a?i.a.error:""),children:[Object(n.jsx)("div",{children:Object(n.jsx)("textarea",Object(r.a)(Object(r.a)({},e),c))}),a&&Object(n.jsxs)("span",{children:[" ",o.error," "]})]})},l=function(t){var e=t.input,o=t.meta,c=Object(s.a)(t,["input","meta"]),a=o.touched&&o.error;return Object(n.jsxs)("div",{className:i.a.formControl+""+(a?i.a.error:""),children:[Object(n.jsx)("input",Object(r.a)(Object(r.a)({},e),c)),a&&Object(n.jsxs)("span",{className:i.a.error,children:[" ",o.error," "]})]})}},245:function(t,e,o){"use strict";o.d(e,"b",(function(){return r})),o.d(e,"a",(function(){return s}));var r=function(t){if(!t)return"Field is required"},s=function(t){return function(e){if(e.length>t)return"Max length is ".concat(t," symbols")}}},255:function(t,e,o){"use strict";e.a=o.p+"static/media/51f6fb256629fc755b8870c801092942.22c31152.png"},269:function(t,e,o){t.exports={descriptionBlock:"ProfileInfo_descriptionBlock__2Y1mw",contacts:"ProfileInfo_contacts__1ifIm"}},322:function(t,e,o){t.exports={postsBLock:"MyPosts_postsBLock__2XgTU",posts:"MyPosts_posts__2c1oP"}},323:function(t,e,o){t.exports={item:"Post_item__12Fn7"}},326:function(t,e,o){"use strict";o.r(e);var r=o(3),s=o(0),c=o.n(s),i=o(269),n=o.n(i),a=o(60),l=o(249),u=o(25),j=o(52),b=o(2);var d=function(t){var e=Object(u.c)(),o=Object(s.useState)(!1),r=Object(l.a)(o,2),c=r[0],i=r[1],n=Object(s.useState)(t.status),a=Object(l.a)(n,2),d=a[0],f=a[1];return Object(s.useEffect)((function(){e(Object(j.g)(d))}),[t.status]),Object(b.jsx)("div",{children:c?Object(b.jsx)("div",{children:Object(b.jsx)("input",{onChange:function(t){f(t.currentTarget.value)},autoFocus:!0,onBlur:function(){i(!1),t.updateProfileStatus(d)},type:"text",value:d})}):Object(b.jsx)("div",{children:Object(b.jsx)("span",{onDoubleClick:function(){i(!0),f(t.status)},children:t.status||"no status"})})})},f=o(255),p=o(324),O=function(t){var e=Object(u.c)(),o=Object(s.useState)(!1),c=Object(l.a)(o,2),i=c[0],a=c[1],d=Object(s.useState)(t.profile.lookingForAJob),f=Object(l.a)(d,2),O=f[0],h=f[1],m=Object(u.d)((function(t){return t.profilePage.profile}));console.log(t.profile.aboutMe);var x=Object(p.a)({initialValues:{userId:16786,aboutMe:t.profile.aboutMe,fullName:t.profile.fullName,lookingForAJob:O,lookingForAJobDescription:t.profile.lookingForAJobDescription,contacts:{vk:t.profile.contacts.vk,github:t.profile.contacts.github,instagram:t.profile.contacts.instagram,facebook:t.profile.contacts.facebook,twitter:t.profile.contacts.twitter,website:t.profile.contacts.website,youtube:t.profile.contacts.youtube,mainLink:t.profile.contacts.mainLink}},onSubmit:function(t){e(Object(j.f)(t)),x.resetForm(),a(!1)}});return Object(b.jsxs)("div",{children:[t.isOwner&&Object(b.jsx)("button",{onClick:function(){return a(!i)},children:"edit"}),Object(b.jsxs)("form",{onSubmit:x.handleSubmit,children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"About Me:"}),i?Object(b.jsx)("input",Object(r.a)({type:"aboutMe",defaultValue:t.profile.aboutMe},x.getFieldProps("aboutMe"))):t.profile.aboutMe,x.touched&&x.errors.aboutMe&&Object(b.jsx)("div",{style:{color:"red"},children:x.errors.aboutMe})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Full name:"}),i?Object(b.jsx)("input",Object(r.a)({type:"fullName"},x.getFieldProps("fullName"))):t.profile.fullName,x.touched.fullName&&x.errors.fullName&&Object(b.jsx)("div",{style:{color:"red"},children:x.errors.fullName})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Looking for job:"}),i?Object(b.jsx)("input",{type:"checkbox",onChange:function(t){h(t.target.checked)}}):t.profile.lookingForAJob?"no":"yes",x.touched.lookingForAJob&&x.errors.lookingForAJob&&Object(b.jsx)("div",{style:{color:"red"},children:x.errors.lookingForAJob})]}),O&&Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"What job you looking for:"}),i?Object(b.jsx)("input",Object(r.a)({type:"lookingForAJobDescription"},x.getFieldProps("lookingForAJobDescription"))):t.profile.lookingForAJobDescription,x.touched.lookingForAJobDescription&&x.errors.lookingForAJobDescription&&Object(b.jsx)("div",{style:{color:"red"},children:x.errors.lookingForAJobDescription})]}),Object(b.jsx)("b",{children:"Contacts:"}),Object.keys(m.contacts).map((function(e,o){return Object(b.jsxs)("div",{className:n.a.contacts,children:[Object(b.jsxs)("b",{children:[e,":"]}),Object(b.jsx)("div",{children:i?Object(b.jsx)("input",Object(r.a)({type:"contacts.".concat(e)},x.getFieldProps("contacts.".concat(e)))):t.profile.contacts[e]})]},o)})),Object(b.jsx)("button",{type:"submit",color:"primary",children:"save"})]})]})};var h=function(t){return t.profile?Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:n.a.descriptionBlock,children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{src:t.photos.large||f.a,alt:"profile pic"}),t.isOwner&&Object(b.jsx)("input",{type:"file",onChange:function(e){e.target.files&&t.saveUserPhoto(e.target.files[0])}}),Object(b.jsx)(d,{status:t.status,updateProfileStatus:t.updateProfileStatus})]}),Object(b.jsx)(O,{isOwner:t.isOwner,profile:t.profile})]})}):Object(b.jsx)(a.a,{})},m=o(322),x=o.n(m),v=o(323),g=o.n(v);var k=function(t){return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:g.a.item,children:[Object(b.jsx)("img",{src:"https://lwlies.com/wp-content/uploads/2017/04/avatar-2009.jpg",alt:""}),t.message,Object(b.jsx)("div",{children:Object(b.jsxs)("span",{children:[t.like,Object(b.jsx)("button",{children:"like"})]})})]})})},P=o(106),F=o(107),y=o(245),_=o(244),S=Object(y.a)(99),w=c.a.memo((function(t){var e=t.message.map((function(t,e){return Object(b.jsx)(k,{message:t.message,like:t.likeCount},e)}));return Object(b.jsxs)("div",{className:x.a.postsBLock,children:[Object(b.jsx)("h3",{children:"My posts"}),Object(b.jsx)("div",{children:Object(b.jsx)(A,{onSubmit:function(e){t.addPost(e.posts)}})}),Object(b.jsx)("div",{className:x.a.posts,children:e})]})})),A=Object(F.a)({form:"posts"})((function(t){return Object(b.jsxs)("form",{action:"",onSubmit:t.handleSubmit,children:[Object(b.jsx)("div",{children:Object(b.jsx)(P.a,{component:_.b,name:"posts",placeholder:"Enter some posts",validate:[y.b,S]})}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{children:"add new post"})})]})})),J=Object(u.b)((function(t){return{message:t.profilePage.message}}),(function(t){return{addPost:function(e){t(Object(j.b)(e))}}}))(w);var N=function(t){var e=t.profile,o=t.status,r=t.updateProfileStatus,s=t.photos,c=t.saveUserPhoto,i=t.isOwner;return Object(b.jsxs)("div",{children:[Object(b.jsx)(h,{profile:e,status:o,updateProfileStatus:r,photos:s,saveUserPhoto:c,isOwner:i}),Object(b.jsx)(J,{})]})},C=o(33),M=o(7);e.default=Object(C.compose)(Object(u.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,isAuth:t.auth.data.isAuth,authorizedUserId:t.auth.data.id,photos:t.profilePage.photos}}),{GetProfile:j.a,getProfileStatus:j.d,updateProfileStatus:j.g,saveUserPhoto:j.e}),M.f)((function(t){var e=Object(u.d)((function(t){return t.auth.data.id})),o=parseInt(t.match.params.userId);return Object(s.useEffect)((function(){o?t.GetProfile(o):null!=e&&t.GetProfile(e)}),[o,e]),Object(b.jsx)(N,Object(r.a)(Object(r.a)({},t),{},{profile:t.profile,GetProfile:t.GetProfile,status:t.status,getProfileStatus:t.getProfileStatus,updateProfileStatus:t.updateProfileStatus,isAuth:t.isAuth,authorizedUserId:t.authorizedUserId,photos:t.photos,saveUserPhoto:t.saveUserPhoto,isOwner:!o}))}))}}]);
//# sourceMappingURL=4.a36c7c1e.chunk.js.map