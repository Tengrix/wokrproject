{"version":3,"sources":["components/common/Paginator/Paginator.module.css","../node_modules/querystring-es3/index.js","../node_modules/querystring-es3/decode.js","../node_modules/querystring-es3/encode.js","components/common/Paginator/Pagination.tsx","components/Users/User.tsx","components/Users/SearchWithFormik.tsx","components/Users/Users.tsx","components/Users/UsersContainer.tsx"],"names":["module","exports","decode","parse","require","encode","stringify","hasOwnProperty","obj","prop","Object","prototype","call","qs","sep","eq","options","length","regexp","split","maxKeys","len","i","kstr","vstr","k","v","x","replace","idx","indexOf","substr","decodeURIComponent","isArray","push","Array","xs","toString","stringifyPrimitive","isFinite","name","undefined","map","objectKeys","ks","encodeURIComponent","join","f","res","keys","key","Pagination","onPageChanged","totalItemsCount","pageCount","currentPage","portionSize","pagesCount","Math","ceil","pages","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","s","paginator","btn","onClick","filter","el","cn","selectedPage","pageNumber","User","React","memo","user","UnFollowFriend","FollowFriend","isFollowing","to","id","src","photos","small","userPhoto","alt","followed","disabled","some","status","SearchWithFormik","props","useSelector","state","usersPage","enableReinitialize","initialValues","searchingName","isFriend","String","onSubmit","values","setSubmitting","filterConverter","onFilterChanged","isSubmitting","type","as","value","Users","totalUsersCount","users","dispatch","useDispatch","history","useHistory","useEffect","parsed","queryString","location","search","actualPage","actualFilter","page","Number","term","friend","getUser","pathname","followFriend","userId","unFollowFriend","title","UsersPage","isFetching","Preloader"],"mappings":"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","file":"static/js/7.63c054dc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__1niP5\",\"paginator\":\"Paginator_paginator__3WUIh\",\"pageNumber\":\"Paginator_pageNumber__1ctyn\",\"btn\":\"Paginator_btn__18qU9\"};","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","import s from \"./Paginator.module.css\";\r\nimport React, {useState} from \"react\";\r\nimport cn from 'classnames'\r\ntype PaginatorType = {\r\n    onPageChanged: (page: number) => void\r\n    totalItemsCount:number;\r\n    pageCount:number;\r\n    currentPage:number;\r\n    portionSize:number\r\n}\r\nconst Pagination = ({onPageChanged,totalItemsCount,pageCount,currentPage,portionSize}:PaginatorType) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageCount)\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber-1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return(\r\n        <div className={s.paginator}>\r\n            <div>\r\n                {portionNumber > 1 &&\r\n                <button className={s.btn} onClick={()=> setPortionNumber(portionNumber-1)}> PREV</button>}\r\n                {pages.filter(el=>el >= leftPortionPageNumber && el <= rightPortionPageNumber)\r\n                    .map((el,i) => {\r\n                    return <span className={cn({\r\n                        [s.selectedPage]:currentPage===el\r\n                    }, s.pageNumber)} key={i} >\r\n                        <button className= {currentPage === el ? s.selectedPage : ''}\r\n                                onClick={() =>onPageChanged(el)}>{el}</button>\r\n                    </span>\r\n\r\n                })}\r\n\r\n                {portionCount > portionNumber &&\r\n                <button className={s.btn} onClick={()=> setPortionNumber(portionNumber+1)}>NEXT</button>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Pagination","import React from 'react'\r\nimport s from \"./UsersApiComponent.module.css\";\r\nimport {UsersType} from \"../../redux/users-reducer\";\r\nimport {NavLink} from 'react-router-dom';\r\nimport userPhoto from './../../Pics/51f6fb256629fc755b8870c801092942.png'\r\nimport { Avatar, Image } from 'antd';\r\ntype UserType = {\r\n    user: UsersType\r\n    FollowFriend: (id: number) => void,\r\n    UnFollowFriend: (id: number) => void,\r\n    isFollowing: number[]\r\n}\r\n\r\nconst User = React.memo(({user, UnFollowFriend, FollowFriend, isFollowing}: UserType) => {\r\n\r\n    return <div>\r\n                    <span>\r\n                        <div>\r\n                            <NavLink to={'/profile/' + user.id}>\r\n                                <Avatar src={<Image src={user.photos.small != null ? user.photos.small : userPhoto} />} alt=\"\"/>\r\n                            </NavLink>\r\n                        </div>\r\n                        <div>\r\n\r\n                            {user.followed ?\r\n                                <button disabled={isFollowing.some(idx => idx == user.id)} onClick={() => {\r\n                                    UnFollowFriend(user.id)\r\n                                }}>unfollow</button>\r\n                                : <button disabled={isFollowing.some(id => id == id)} onClick={() => {\r\n                                    FollowFriend(user.id)\r\n                                }}>follow</button>\r\n                            }\r\n                        </div>\r\n                    </span>\r\n        <span>\r\n                            <span>\r\n                                <div>{user.name}</div>\r\n                                <div>{user.status}</div>\r\n                            </span>\r\n                    </span>\r\n    </div>\r\n})\r\nexport default User","import React from \"react\";\r\nimport {filterType} from \"../../redux/users-reducer\";\r\nimport {SubmitHandler, useForm} from \"react-hook-form\";\r\nimport {Formik, Field, Form} from \"formik\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\n\r\ntype IsFriend = 'null' | 'false' | 'true';\r\ntype useFormType = {\r\n    searchingName: string;\r\n    isFriend: IsFriend\r\n}\r\ntype PropsType = {\r\n    onFilterChanged: (filter: filterType) => void;\r\n\r\n}\r\n\r\nconst SearchWithFormik = React.memo((props: PropsType) => {\r\n    const filter = useSelector<AppStateType, filterType>(state => state.usersPage.filter)\r\n    const submit = (values: useFormType, {setSubmitting}: { setSubmitting: (isSubmitting: boolean) => void }) => {\r\n        const filterConverter = {\r\n            searchingName: values.searchingName,\r\n            isFriend: values.isFriend === 'null' ? null : values.isFriend === 'true' ? true : false\r\n        }\r\n        props.onFilterChanged(filterConverter)\r\n        setSubmitting(false)\r\n    }\r\n    return <div>\r\n        <Formik\r\n            enableReinitialize\r\n            initialValues={{searchingName: filter.searchingName, isFriend: String(filter.isFriend) as IsFriend}}\r\n            onSubmit={submit}\r\n        >\r\n            {({isSubmitting}) => (\r\n                <Form>\r\n                    <Field type={'text'} name={'searchingName'}/>\r\n                    <Field name={'isFriend'} as='select'>\r\n                        <option value='null'>All</option>\r\n                        <option value=\"true\">Followers</option>\r\n                        <option value=\"false\">Not Followers</option>\r\n                    </Field>\r\n                    <button disabled={isSubmitting} type={'submit'}>Search</button>\r\n                </Form>\r\n                )}\r\n        </Formik>\r\n    </div>\r\n})\r\nexport default SearchWithFormik","import React, {useEffect} from 'react'\r\nimport Pagination from \"../common/Paginator/Pagination\";\r\nimport User from \"./User\";\r\nimport SearchUsers from \"./SearchWithHookForm\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n    filterType,\r\n    FollowFriend,\r\n    getUser,\r\n    UnFollowFriend,\r\n    userInitialStateType,\r\n    usersActions\r\n} from \"../../redux/users-reducer\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport * as queryString from \"querystring\";\r\nimport SearchWithFormik from \"./SearchWithFormik\";\r\n\r\n\r\ntype UsersType = {\r\n    title: string\r\n}\r\nconst Users = React.memo((props: UsersType) => {\r\n    const {\r\n        totalUsersCount,\r\n        pageCount,\r\n        currentPage,\r\n        isFollowing,\r\n        filter,\r\n        users\r\n    } = useSelector<AppStateType, userInitialStateType>(state => state.usersPage)\r\n    const dispatch = useDispatch()\r\n\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        const parsed = queryString.parse(history.location.search.substr(1))\r\n        let actualPage = currentPage\r\n        let actualFilter = filter\r\n        if (!!parsed.page) actualPage = Number(parsed.page)\r\n        if (!!parsed.term) actualFilter = {...actualFilter, searchingName:parsed.term as string}\r\n        switch (parsed.friend) {\r\n            case 'null':\r\n                actualFilter = {...actualFilter, isFriend:null}\r\n                break;\r\n            case 'false':\r\n                actualFilter = {...actualFilter, isFriend:false}\r\n                break;\r\n            case 'true':\r\n                actualFilter = {...actualFilter, isFriend:true}\r\n\r\n                break;\r\n        }\r\n        dispatch(getUser(actualPage, pageCount, actualFilter))\r\n    }, [])\r\n    useEffect(() => {\r\n        history.push({\r\n            pathname: '/developers',\r\n            search: `?term=${filter.searchingName}&friend=${filter.isFriend}&page=${currentPage}`\r\n        })\r\n    }, [filter, currentPage])\r\n\r\n    const onPageChanged = (pageNumber: number) => {\r\n        dispatch(getUser(pageNumber, pageCount, filter))\r\n    }\r\n\r\n    const onFilterChanged = (filter:filterType) => {\r\n        dispatch(getUser(currentPage, pageCount,filter))\r\n    }\r\n\r\n    const followFriend = (userId: number) => {\r\n        dispatch(FollowFriend(userId))\r\n    }\r\n    const unFollowFriend = (userId: number) => {\r\n        dispatch(UnFollowFriend(userId))\r\n    }\r\n\r\n    return <div>\r\n        <h1>{props.title}</h1>\r\n        <span>\r\n           <SearchWithFormik onFilterChanged={onFilterChanged}/>\r\n        </span>\r\n\r\n        <Pagination\r\n            currentPage={currentPage}\r\n            pageCount={pageCount}\r\n            totalItemsCount={totalUsersCount}\r\n            onPageChanged={onPageChanged}\r\n            portionSize={10}\r\n        />\r\n\r\n        {\r\n            users.map(el => <User\r\n                    key={el.id}\r\n                    user={el}\r\n                    FollowFriend={followFriend}\r\n                    UnFollowFriend={unFollowFriend}\r\n                    isFollowing={isFollowing}\r\n                />\r\n            )\r\n        }\r\n    </div>\r\n})\r\nexport default Users","import React from 'react'\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\n\r\ntype usersPagePropsType = {\r\n    title:string;\r\n}\r\nconst UsersPage = (props:usersPagePropsType) => {\r\n\r\n    const isFetching = useSelector<AppStateType,boolean>(state => state.usersPage.isFetching)\r\n\r\n    return <div>\r\n        {isFetching ? <Preloader/> : null}\r\n        <Users\r\n            title={props.title}\r\n        />\r\n\r\n    </div>\r\n}\r\nexport default UsersPage;\r\n"],"sourceRoot":""}