(this.webpackJsonpworkproject=this.webpackJsonpworkproject||[]).push([[0],{25:function(e,t,n){e.exports={dialogsItems:"DialogItems_dialogsItems__2fZHv",active:"DialogItems_active__2ISGM",img:"DialogItems_img__3cAL3"}},30:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__IcOa7",messages:"Dialogs_messages__2ipxb",message:"Dialogs_message__2cCpI"}},31:function(e,t,n){},32:function(e,t,n){e.exports={img:"UsersApiComponent_img__hQbIU",selectedPage:"UsersApiComponent_selectedPage__2oxjD"}},33:function(e,t,n){e.exports={postsBLock:"MyPosts_postsBLock__2XgTU",posts:"MyPosts_posts__2c1oP"}},34:function(e,t,n){e.exports={header:"Header_header__3kPns",loginBlock:"Header_loginBlock__2AcFW"}},45:function(e,t,n){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__2Y1mw"}},46:function(e,t,n){e.exports={item:"Post_item__12Fn7"}},53:function(e,t,n){},6:function(e,t,n){e.exports={nav:"Navbar_nav__2LvmE",item:"Navbar_item__3Z4YA",activeLink:"Navbar_activeLink__E3EjW",itemFriends:"Navbar_itemFriends__ukrFy"}},60:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var s=n(1),i=n.n(s),c=n(22),a=n.n(c),r=(n(53),n(5)),o=n(6),u=n.n(o),l=n(0),d=function(){return Object(l.jsxs)("nav",{className:u.a.nav,children:[Object(l.jsx)("div",{className:"".concat(u.a.item),children:Object(l.jsx)(r.b,{to:"/profile",activeClassName:u.a.activeLink,children:"Profile"})}),Object(l.jsx)("div",{className:u.a.item,children:Object(l.jsx)(r.b,{to:"/dialogs",activeClassName:u.a.activeLink,children:"Messages"})}),Object(l.jsx)("div",{className:u.a.item,children:Object(l.jsx)(r.b,{to:"/news",activeClassName:u.a.activeLink,children:"News"})}),Object(l.jsx)("div",{className:u.a.item,children:Object(l.jsx)(r.b,{to:"/music",activeClassName:u.a.activeLink,children:"Music"})}),Object(l.jsx)("div",{className:u.a.item,children:Object(l.jsx)(r.b,{to:"/settings",activeClassName:u.a.activeLink,children:"Settings"})}),Object(l.jsx)("div",{className:u.a.item,children:Object(l.jsx)(r.b,{to:"/users",activeClassName:u.a.activeLink,children:"Users"})}),Object(l.jsx)("div",{className:u.a.itemFriends,children:Object(l.jsx)(r.b,{to:"/friends",activeClassName:u.a.activeLink,children:"Friends"})}),Object(l.jsx)("span",{className:u.a.itemFriends,children:Object(l.jsx)(r.b,{to:"/Abay",activeClassName:u.a.activeLink,children:" Aboy "})})]})},j=(n(60),n(4));var b=function(e){return Object(l.jsx)("div",{children:"News"})};var p=function(e){return Object(l.jsx)("div",{children:"Music"})};var h=function(e){return Object(l.jsx)("div",{children:"Settings"})};var g=function(){return Object(l.jsx)("div",{children:"Friends"})},O=n(7),f=n(18),m=n(2),v="NEW-MESSAGE-BODY",x="SEND-MESSAGE",w={users:[{id:"1",name:"Damir"},{id:"2",name:"Abay"},{id:"3",name:"Kyama"},{id:"4",name:"Kaidar"},{id:"5",name:"Aday"}],messages:[{id:1,messages:"Hi"},{id:2,messages:"What's up?"},{id:3,messages:"How's it going?"}],newMessageBody:""},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(m.a)(Object(m.a)({},e),{},{newMessageBody:t.body});case x:var n=e.newMessageBody;return Object(m.a)(Object(m.a)({},e),{},{messages:[].concat(Object(f.a)(e.messages),[{id:6,messages:n}]),newMessageBody:""});default:return e}},F=n(30),C=n.n(F),S=n(25),T=n.n(S);var N=function(e){return Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:"".concat(T.a.dialog," ").concat(T.a.active),children:[Object(l.jsx)("img",{className:T.a.img,src:"https://media.vanityfair.com/photos/5c5325d3cec32271820c6fc1/master/w_1600%2Cc_limit/ava-max-interview.jpg",alt:""}),Object(l.jsx)(r.b,{to:"/dialogs/"+e.id,children:e.name})]})})},_=n(31),y=n.n(_);var E=function(e){return Object(l.jsx)("div",{children:Object(l.jsx)("div",{className:y.a.message,children:Object(l.jsx)("div",{className:y.a.chat,children:e.messages})})})};var k=function(e){var t=e.dialogPage,n=t.users.map((function(e){return Object(l.jsx)(N,{name:e.name,id:e.id},e.id)})),s=t.messages.map((function(e){return Object(l.jsx)(E,{messages:e.messages,id:e.id},e.id)})),i=t.newMessageBody;return Object(l.jsxs)("div",{className:C.a.dialogs,children:[Object(l.jsx)("div",{children:n}),Object(l.jsxs)("div",{className:C.a.messages,children:[Object(l.jsxs)("div",{children:[" ",s]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:Object(l.jsx)("textarea",{value:i,placeholder:"Enter your message",onChange:function(t){e.updatedMessageBody(t.currentTarget.value)}})}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{onClick:function(){e.sendMessage()},children:"Send"})})]})]})]})},U=n(13),A=n(48),L=function(e){return{isAuth:e.auth.isAuth}};function I(e){return Object(O.b)(L)((function(t){var n=t.isAuth,s=Object(A.a)(t,["isAuth"]);return n?Object(l.jsx)(e,Object(m.a)({},s)):Object(l.jsx)(j.a,{to:"login"})}))}var G=Object(U.c)(Object(O.b)((function(e){return{dialogPage:e.dialogPage}}),{updatedMessageBody:function(e){return{type:v,body:e}},sendMessage:function(){return{type:x}}}),j.f,I)(k),D=n(15),M=n(16),B=n(19),H=n(17),W=n(44),R=n.n(W).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"1eaa5d66-d310-487c-a1d0-2fd59af6c2de"}}),Y=function(e,t){return R.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},J=function(e){return console.warn("Obsolete method. Please use profileApi object."),Q.getProfile(e)},K=function(e){return R.post("follow/".concat(e)).then((function(e){return e.data}))},X=function(e){return R.delete("follow/".concat(e)).then((function(e){return e.data}))},Z=function(){return R.get("auth/me").then((function(e){return e.data}))},Q={getProfile:function(e){return R.get("profile/"+e)},getStatus:function(e){return R.get("profile/status/"+e)},updateStatus:function(e){return R.put("profile/status",{status:e})}},q={users:[],pageCount:10,totalUsersCount:0,currentPage:1,isFetching:!0,isFollowing:[]},z=function(e){return{type:"SET-TOGGLE-FETCHING",isFetching:e}},V=function(e,t){return{type:"SET-TOGGLE-FOLLOWING",id:t,isFetching:e}},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(m.a)(Object(m.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(m.a)(Object(m.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(m.a)(Object(m.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(m.a)(Object(m.a)({},e),{},{followed:!1}):e}))});case"SET-USERS":return Object(m.a)(Object(m.a)({},e),{},{users:t.users});case"SET-PAGE":return Object(m.a)(Object(m.a)({},e),{},{currentPage:t.pageNumber});case"SET-TOTAL-USERS":return Object(m.a)(Object(m.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"SET-TOGGLE-FETCHING":return Object(m.a)(Object(m.a)({},e),{},{isFetching:t.isFetching});case"SET-TOGGLE-FOLLOWING":return Object(m.a)(Object(m.a)({},e),{},{isFollowing:t.isFetching?[].concat(Object(f.a)(e.isFollowing),[t.id]):e.isFollowing.filter((function(e){return e!=t.id}))});default:return e}},ee=n(32),te=n.n(ee),ne=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageCount),n=[],s=1;s<=t;s++)n.push(s);return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:n.map((function(t){return Object(l.jsx)("span",{className:e.currentPage===t?te.a.selectedPage:"",onClick:function(){return e.onPageChanged(t)},children:t})}))}),e.users.map((function(t){return Object(l.jsxs)("div",{children:[Object(l.jsxs)("span",{children:[Object(l.jsx)("div",{children:Object(l.jsx)("img",{className:te.a.img,src:null!=t.photoUrl?t.photoUrl:"https://i.pinimg.com/originals/51/f6/fb/51f6fb256629fc755b8870c801092942.png",alt:""})}),Object(l.jsx)("div",{children:t.followed?Object(l.jsx)("button",{disabled:e.isFollowing.some((function(e){return e==t.id})),onClick:function(){e.UnFollowFriend(t.id)},children:"unfollow"}):Object(l.jsx)("button",{disabled:e.isFollowing.some((function(e){return e==t.id})),onClick:function(){e.FollowFriend(t.id)},children:"follow"})})]}),Object(l.jsx)("span",{children:Object(l.jsxs)("span",{children:[Object(l.jsx)("div",{children:t.name}),Object(l.jsx)("div",{children:t.status})]})})]},t.id)}))]})},se=n.p+"static/media/Iphone-spinner-2.d3fbaf2b.gif",ie=function(){return Object(l.jsx)("div",{children:Object(l.jsx)("img",{src:se,alt:""})})},ce=function(e){Object(B.a)(n,e);var t=Object(H.a)(n);function n(){var e;Object(D.a)(this,n);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).onPageChanged=function(t){e.props.getUser(t,e.props.pageCount)},e}return Object(M.a)(n,[{key:"componentDidMount",value:function(){this.props.getUser(this.props.currentPage,this.props.pageCount)}},{key:"render",value:function(){return Object(l.jsxs)("div",{children:[this.props.isFetching?Object(l.jsx)(ie,{}):null,Object(l.jsx)(ne,{currentPage:this.props.currentPage,pageCount:this.props.pageCount,totalUsersCount:this.props.totalUsersCount,users:this.props.users,onPageChanged:this.onPageChanged,isFetching:this.props.isFetching,isFollowing:this.props.isFollowing,FollowFriend:this.props.FollowFriend,UnFollowFriend:this.props.UnFollowFriend,getUser:this.props.getUser})]})}}]),n}(i.a.Component),ae=Object(U.c)(Object(O.b)((function(e){return{users:e.usersPage.users,pageCount:e.usersPage.pageCount,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching,isFollowing:e.usersPage.isFollowing}}),{FollowFriend:function(e){return function(t){t(V(!0,e)),K(e).then((function(n){0==n.resultCode&&t(function(e){return{type:"FOLLOW",userId:e}}(e)),t(V(!1,e))}))}},UnFollowFriend:function(e){return function(t){t(V(!0,e)),X(e).then((function(n){0===n.resultCode&&t(function(e){return{type:"UNFOLLOW",userId:e}}(e)),t(V(!1,e))}))}},setCurrentPage:function(e){return{type:"SET-PAGE",pageNumber:e}},setToggleFollowing:V,getUser:function(e,t){return function(n){n(z(!0)),Y(e,t).then((function(e){n(z(!1)),n({type:"SET-USERS",users:e.items}),n({type:"SET-TOTAL-USERS",totalUsersCount:e.totalCount})}))}}}),j.f,I)(ce),re=n(45),oe=n.n(re),ue=n(35),le="ADD-POST",de="CHANGE-NEW-POST-TEXT",je={message:[{id:1,message:"Hi, how are you?",likeCount:22},{id:2,message:"It is my first post",likeCount:11}],newPostText:"",profile:null,status:""},be=function(e){return{type:"SET-STATUS",status:e}},pe=function(e){return function(t){Q.updateStatus(e).then((function(n){0===n.data.resultCode&&t(be(e))}))}},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:var n={id:3,message:e.newPostText,likeCount:0};return Object(m.a)(Object(m.a)({},e),{},{message:[].concat(Object(f.a)(e.message),[n]),newPostText:""});case de:return Object(m.a)(Object(m.a)({},e),{},{newPostText:t.newPost});case"SET-PROFILE":return Object(m.a)(Object(m.a)({},e),{},{profile:t.profile});case"SET-STATUS":return Object(m.a)(Object(m.a)({},e),{},{status:t.status});default:return e}};var ge=function(e){var t=Object(O.c)(),n=Object(s.useState)(!1),i=Object(ue.a)(n,2),c=i[0],a=i[1],r=Object(s.useState)(e.status),o=Object(ue.a)(r,2),u=o[0],d=o[1];return Object(s.useEffect)((function(){t(pe)}),[u]),Object(l.jsx)("div",{children:c?Object(l.jsx)("div",{children:Object(l.jsx)("input",{onChange:function(e){d(e.currentTarget.value)},autoFocus:!0,onBlur:function(){a(!1),e.updateProfileStatus(u)},type:"text",value:u})}):Object(l.jsx)("div",{children:Object(l.jsx)("span",{onDoubleClick:function(){a(!0),d(e.status)},children:e.status})})})};var Oe=function(e){return e.profile?Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:oe.a.descriptionBlock,children:[Object(l.jsx)("p",{children:e.profile.fullName}),Object(l.jsxs)("div",{children:[Object(l.jsx)("img",{src:e.profile.photos.small,alt:""}),Object(l.jsx)(ge,{status:e.status,updateProfileStatus:e.updateProfileStatus})]}),Object(l.jsx)("span",{children:" \u042f \u0431\u0443\u0434\u0443\u0449\u0438\u0439 \u0441\u043f\u0435\u0446 \u0432 IT-INDUSTRY"}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{children:[e.profile.contacts.vk," "]}),Object(l.jsxs)("div",{children:[e.profile.contacts.github," "]}),Object(l.jsx)("div",{children:e.profile.contacts.facebook}),Object(l.jsxs)("div",{children:[e.profile.contacts.twitter," "]}),Object(l.jsxs)("div",{children:[e.profile.contacts.website," "]}),Object(l.jsxs)("div",{children:[e.profile.contacts.instagram," "]})]}),Object(l.jsx)("div",{children:e.profile.lookingForAJob}),Object(l.jsx)("div",{children:e.profile.lookingForAJobDescription})]})}):Object(l.jsx)(ie,{})},fe=n(33),me=n.n(fe),ve=n(46),xe=n.n(ve);var we=function(e){return Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:xe.a.item,children:[Object(l.jsx)("img",{src:"https://lwlies.com/wp-content/uploads/2017/04/avatar-2009.jpg",alt:""}),e.message,Object(l.jsx)("div",{children:Object(l.jsxs)("span",{children:[e.like,Object(l.jsx)("button",{children:"like"})]})})]})})};var Pe=function(e){var t=e.message.map((function(e){return Object(l.jsx)(we,{message:e.message,like:e.likeCount})}));return Object(l.jsxs)("div",{className:me.a.postsBLock,children:[Object(l.jsx)("h3",{children:"My posts"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:Object(l.jsx)("textarea",{value:e.newPostText,onChange:function(t){e.changeNewText(t.currentTarget.value)}})}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{onClick:function(){e.addPost()},children:"add new post"})})]}),Object(l.jsx)("div",{className:me.a.posts,children:t})]})},Fe=Object(O.b)((function(e){return{message:e.profilePage.message,newPostText:e.profilePage.newPostText}}),(function(e){return{changeNewText:function(t){e({type:de,newPost:t})},addPost:function(){e({type:le})}}}))(Pe);var Ce=function(e){return Object(l.jsxs)("div",{children:[Object(l.jsx)(Oe,{profile:e.profile,status:e.status,updateProfileStatus:e.updateProfileStatus}),Object(l.jsx)(Fe,{})]})},Se=function(e){Object(B.a)(n,e);var t=Object(H.a)(n);function n(){return Object(D.a)(this,n),t.apply(this,arguments)}return Object(M.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=16786),this.props.GetProfile(e),this.props.getProfileStatus(e)}},{key:"render",value:function(){return Object(l.jsx)(Ce,Object(m.a)(Object(m.a)({},this.props),{},{profile:this.props.profile,GetProfile:this.props.GetProfile,status:this.props.status,getProfileStatus:this.props.getProfileStatus,updateProfileStatus:this.props.updateProfileStatus}))}}]),n}(i.a.Component),Te=Object(U.c)(Object(O.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status}}),{GetProfile:function(e){return function(t){J(e).then((function(e){t({type:"SET-PROFILE",profile:e.data})}))}},getProfileStatus:function(e){return function(t){Q.getStatus(e).then((function(e){t(be(e.data))}))}},updateProfileStatus:pe}),j.f)(Se),Ne=n(34),_e=n.n(Ne);var ye=function(e){return Object(l.jsxs)("header",{className:_e.a.header,children:[Object(l.jsx)("img",{src:"https://www.freelogodesign.org/Content/img/logo-ex-7.png",alt:""}),Object(l.jsx)("div",{className:_e.a.loginBlock,children:e.isAuth?e.login:Object(l.jsx)(r.b,{to:"/login",children:"Login"})})]})},Ee={data:{id:null,email:null,login:null},isFetching:!1,isAuth:!1,resultCode:0,messages:[""]},ke=function(e,t,n){return{type:"SET-USER-DATA",data:{id:e,email:t,login:n}}},Ue=function(e){return{type:"SET-TOGGLE-FETCHING",isFetching:e}},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-USER-DATA":return Object(m.a)(Object(m.a)({},e),{},{data:t.data,isAuth:!0});case"SET-TOGGLE-FETCHING":return Object(m.a)(Object(m.a)({},e),{},{isFetching:t.isFetching});default:return e}},Le=function(e){Object(B.a)(n,e);var t=Object(H.a)(n);function n(){return Object(D.a)(this,n),t.apply(this,arguments)}return Object(M.a)(n,[{key:"componentDidMount",value:function(){this.props.FollowOrUnfollow()}},{key:"render",value:function(){return Object(l.jsx)(ye,Object(m.a)(Object(m.a)({},this.props),{},{login:this.props.login,isAuth:this.props.isAuth,setAuthUserData:this.props.setAuthUserData,setToggleFetching:this.props.setToggleFetching,FollowOrUnfollow:this.props.FollowOrUnfollow}))}}]),n}(i.a.Component),Ie=Object(O.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.data.login}}),{setAuthUserData:ke,setToggleFetching:Ue,FollowOrUnfollow:function(){return function(e){Z().then((function(t){if(e(Ue(!1)),0===t.resultCode){var n=t.data,s=n.id,i=n.login,c=n.email;e(ke(s,i,c)),e(Ue(!0))}}))}}})(Le),Ge=function(){return Object(l.jsx)("h1",{children:" Login "})};var De=function(){return Object(l.jsx)(r.a,{children:Object(l.jsxs)("div",{className:"app-wrapper",children:[Object(l.jsx)(Ie,{}),Object(l.jsx)(d,{}),Object(l.jsxs)("div",{className:"app-wrapper-content",children:[Object(l.jsx)(j.b,{path:"/dialogs",render:function(){return Object(l.jsx)(G,{})}}),Object(l.jsx)(j.b,{path:"/profile/:userId?",render:function(){return Object(l.jsx)(Te,{})}}),Object(l.jsx)(j.b,{path:"/news",component:b}),Object(l.jsx)(j.b,{path:"/music",component:p}),Object(l.jsx)(j.b,{path:"/settings",component:h}),Object(l.jsx)(j.b,{path:"/friends",render:function(){return Object(l.jsx)(g,{})}}),Object(l.jsx)(j.b,{path:"/users",render:function(){return Object(l.jsx)(ae,{})}}),Object(l.jsx)(j.b,{path:"/login",render:function(){return Object(l.jsx)(Ge,{})}})]})]})})},Me={friends:[{id:1,name:"Abay"},{id:2,name:"Karik"}]},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me;return e},He=n(47),We=Object(U.b)({profilePage:he,dialogPage:P,sideBarPage:Be,usersPage:$,auth:Ae}),Re=Object(U.d)(We,Object(U.a)(He.a));window.store=window.store||{};var Ye=Re;a.a.render(Object(l.jsx)(r.a,{children:Object(l.jsx)(O.a,{store:Ye,children:Object(l.jsx)(De,{})})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.fa7ecb2d.chunk.js.map