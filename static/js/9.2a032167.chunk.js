(this.webpackJsonpworkproject=this.webpackJsonpworkproject||[]).push([[9],{267:function(e,t,c){"use strict";t.a=c.p+"static/media/51f6fb256629fc755b8870c801092942.22c31152.png"},288:function(e,t,c){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__2Y1mw",contacts:"ProfileInfo_contacts__1ifIm"}},378:function(e,t,c){"use strict";c.r(t);var i=c(0),o=c.n(i),r=c(288),s=c.n(r),n=c(62),a=c(271),l=c(2),b=o.a.memo((function(e){var t=Object(i.useState)(!1),c=Object(a.a)(t,2),o=c[0],r=c[1],s=Object(i.useState)(e.status),n=Object(a.a)(s,2),b=n[0],j=n[1];return Object(l.jsx)("div",{children:o?Object(l.jsx)("div",{children:Object(l.jsx)("input",{onChange:function(e){j(e.currentTarget.value)},autoFocus:!0,onBlur:function(){e.isAuth&&(r(!1),e.updateProfileStatus(b))},type:"text",value:b})}):Object(l.jsx)("div",{children:Object(l.jsx)("span",{onDoubleClick:function(){e.isOwner&&e.isAuth&&(r(!0),j(e.status))},children:e.status||"no status"})})})})),j=c(267),u=c(3),d=c(5),p=c.n(d),O=c(9),f=c(294),h=c(61),x=c(25),m=c(373),v=c(375),g=c(376);function k(){return Math.round(20*Math.random())-10}function w(){var e=50+k(),t=50+k();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var y=Object(m.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),N=o.a.memo((function(e){var t=Object(x.c)(),c=Object(x.d)((function(e){return e.profilePage.error})),o=Object(i.useState)(c),r=Object(a.a)(o,2),n=r[0],b=r[1],j=y(),d=Object(i.useState)(w),m=Object(a.a)(d,1)[0],k=Object(i.useState)(!1),N=Object(a.a)(k,2),A=N[0],F=N[1],J=function(){F(!1)},M=Object(f.a)({enableReinitialize:!0,initialValues:{userId:e.profile.userId,aboutMe:e.profile.aboutMe,fullName:e.profile.fullName,lookingForAJob:e.profile.lookingForAJob,lookingForAJobDescription:e.profile.lookingForAJobDescription,contacts:{vk:e.profile.contacts.vk,github:e.profile.contacts.github,instagram:e.profile.contacts.instagram,facebook:e.profile.contacts.facebook,twitter:e.profile.contacts.twitter,website:e.profile.contacts.website,youtube:e.profile.contacts.youtube,mainLink:e.profile.contacts.mainLink},photos:{small:"",large:""}},validate:function(e){var t={};return e.aboutMe||(t.aboutMe="Required"),e.fullName||(t.fullName="Required"),e.lookingForAJobDescription||(t.lookingForAJobDescription="Required"),t},onSubmit:function(){var e=Object(O.a)(p.a.mark((function e(c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(Object(h.f)(c));case 3:J(),b(""),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),h.d.setError(e.t0),b(e.t0);case 11:M.resetForm();case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}),P=Object(l.jsx)("div",{style:m,className:j.paper,children:Object(l.jsxs)("form",{onSubmit:M.handleSubmit,children:[n&&Object(l.jsx)("div",{style:{border:"1px solid red",color:"darkred",padding:"10px"},children:n}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"About Me:"}),Object(l.jsx)(v.a,Object(u.a)({type:"aboutMe"},M.getFieldProps("aboutMe"))),M.touched.aboutMe&&M.errors.aboutMe&&Object(l.jsx)("div",{style:{color:"red"},children:M.errors.aboutMe})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"Full name:"}),Object(l.jsx)("input",Object(u.a)({type:"fullName"},M.getFieldProps("fullName"))),M.touched.fullName&&M.errors.fullName&&Object(l.jsx)("div",{style:{color:"red"},children:M.errors.fullName})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"Looking for job:"}),Object(l.jsx)("input",{type:"checkbox"})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"My skills:"}),Object(l.jsx)("input",Object(u.a)({type:"lookingForAJobDescription"},M.getFieldProps("lookingForAJobDescription"))),M.touched.lookingForAJobDescription&&M.errors.lookingForAJobDescription&&Object(l.jsx)("div",{style:{color:"red"},children:M.errors.lookingForAJobDescription})]}),Object(l.jsx)("b",{children:"Contacts:"}),Object.keys(e.profile.contacts).map((function(e,t){return Object(l.jsxs)("div",{className:s.a.contacts,children:[Object(l.jsxs)("b",{children:[e,":"]}),Object(l.jsx)("div",{children:Object(l.jsx)("input",Object(u.a)({type:"contacts.".concat(e)},M.getFieldProps("contacts.".concat(e))))})]},t)})),Object(l.jsx)("button",{disabled:!M.isValid,type:"submit",color:"primary",children:"save"})]})});return Object(l.jsxs)("div",{children:[e.isOwner&&Object(l.jsx)("button",{type:"button",disabled:!e.isAuth,onClick:function(){F(!0)},children:"update profile"}),Object(l.jsx)(g.a,{open:A,onClose:J,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:P}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"About me:"})," ",e.profile.aboutMe]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"Name:"})," ",e.profile.fullName]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"Looking for a job:"})," ",e.profile.lookingForAJob?"yes":"no"]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"My Skills:"})," ",e.profile.lookingForAJobDescription]}),Object(l.jsx)("b",{children:" Contacts:"}),Object(l.jsxs)("div",{className:s.a.contacts,children:[Object(l.jsx)("b",{children:"vk:"})," ",e.profile.contacts.vk]}),Object(l.jsxs)("div",{className:s.a.contacts,children:[Object(l.jsx)("b",{children:"github:"})," ",e.profile.contacts.github]}),Object(l.jsxs)("div",{className:s.a.contacts,children:[Object(l.jsx)("b",{children:"youtube:"})," ",e.profile.contacts.youtube]}),Object(l.jsxs)("div",{className:s.a.contacts,children:[Object(l.jsx)("b",{children:"facebook:"})," ",e.profile.contacts.facebook]}),Object(l.jsxs)("div",{className:s.a.contacts,children:[Object(l.jsx)("b",{children:"website:"})," ",e.profile.contacts.website]}),Object(l.jsxs)("div",{className:s.a.contacts,children:[Object(l.jsx)("b",{children:"mainLink:"})," ",e.profile.contacts.mainLink]}),Object(l.jsxs)("div",{className:s.a.contacts,children:[Object(l.jsx)("b",{children:"instagram:"})," ",e.profile.contacts.instagram]}),Object(l.jsxs)("div",{className:s.a.contacts,children:[Object(l.jsx)("b",{children:"twitter:"})," ",e.profile.contacts.twitter]})]})})),A=o.a.memo((function(e){var t=Object(x.d)((function(e){return e.auth.data.isAuth}));if(!e.profile)return Object(l.jsx)(n.a,{});return Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:s.a.descriptionBlock,children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("img",{src:e.photos.large||j.a,alt:"profile pic"}),e.isOwner&&Object(l.jsx)("input",{type:"file",disabled:!t,onChange:function(t){t.target.files&&e.saveUserPhoto(t.target.files[0])}}),Object(l.jsx)(b,{status:e.status,updateProfileStatus:e.updateProfileStatus,isOwner:e.isOwner,isAuth:t})]}),Object(l.jsx)(N,{isOwner:e.isOwner,profile:e.profile,isAuth:t})]})})})),F=o.a.memo((function(){var e=Object(x.c)(),t=Object(x.d)((function(e){return e.profilePage})),c=t.status,i=t.profile,o=t.isOwner;return Object(l.jsx)("div",{children:Object(l.jsx)(A,{status:c,profile:i,updateProfileStatus:function(t){e(Object(h.g)(t))},photos:i.photos,saveUserPhoto:function(t){e(Object(h.e)(t))},isOwner:o})})})),J=c(8),M=o.a.memo((function(e){var t=Object(x.c)(),c=Object(x.d)((function(e){return e.auth.data.id})),o=Object(J.h)().userId,r=Object(x.d)((function(e){return e.profilePage.setToggle})),s=Object(x.d)((function(e){return e.auth.data.isAuth}));return Object(i.useEffect)((function(){s&&(o||null==c?(t(Object(h.a)(Number(o))),t(Object(h.c)(Number(o)))):(t(Object(h.a)(c)),t(Object(h.c)(c))))}),[o,c]),Object(l.jsx)("div",{children:r?Object(l.jsx)(F,{}):Object(l.jsx)(n.a,{})})}));t.default=M}}]);
//# sourceMappingURL=9.2a032167.chunk.js.map