{"version":3,"sources":["components/common/FormController/FormControl.module.css","components/common/FormController/FormController.tsx","components/utils/validators/validator.ts","Pics/51f6fb256629fc755b8870c801092942.png","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatus.tsx","components/Profile/ProfileInfo/ProfileData.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx"],"names":["module","exports","TextArea","input","meta","props","TextAreaError","touched","error","className","s","formControl","InputArea","requiredField","value","maxLengthCreator","maxLength","length","ProfileStatus","useState","editMode","setEditMode","status","title","setTitle","onChange","e","currentTarget","autoFocus","onBlur","isAuth","updateProfileStatus","type","onDoubleClick","isOwner","rand","Math","round","random","getModalStyle","top","left","transform","useStyles","makeStyles","theme","paper","position","width","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","ProfileData","dispatch","useDispatch","errors","useSelector","state","profilePage","serverError","setServerError","classes","modalStyle","open","setOpen","handleClose","formik","useFormik","enableReinitialize","initialValues","userId","profile","aboutMe","fullName","lookingForAJob","lookingForAJobDescription","contacts","vk","github","instagram","facebook","twitter","website","youtube","mainLink","photos","small","large","validate","values","onSubmit","a","saveUserProfile","setError","resetForm","body","style","handleSubmit","color","TextField","getFieldProps","Object","keys","map","key","i","disabled","isValid","onClick","Modal","onClose","aria-labelledby","aria-describedby","ProfileInfo","auth","data","descriptionBlock","src","userPhoto","alt","target","files","saveUserPhoto","Preloader","Post","item","message","like","MyPosts","React","memo","messageData","el","likeCount","postsBLock","PostFormRedux","addPost","posts","reduxForm","form","action","Field","component","name","placeholder","MyPostsContainer","connect","Profile","compose","authorizedUserId","id","GetProfile","getProfileStatus","withRouter","myId","parseInt","match","params","setToggle","isLogged","useEffect"],"mappings":"+FACAA,EAAOC,QAAU,CAAC,YAAc,iCAAiC,MAAQ,2BAA2B,iBAAmB,wC,yJCC1GC,EAAW,SAAC,GAAiC,IAAhCC,EAA+B,EAA/BA,MAAOC,EAAwB,EAAxBA,KAASC,EAAe,gCAC/CC,EAAgBF,EAAKG,SAAWH,EAAKI,MAC3C,OACI,sBAAKC,UAAWC,IAAEC,YAAc,IAAML,EAAeI,IAAEF,MAAM,IAA7D,UACI,8BACI,oDAAcL,GAAUE,MAE3BC,GAAiB,qCAAQF,EAAKI,MAAb,WAIjBI,EAAY,SAAC,GAAiC,IAAhCT,EAA+B,EAA/BA,MAAOC,EAAwB,EAAxBA,KAASC,EAAe,gCAChDC,EAAgBF,EAAKG,SAAWH,EAAKI,MAC3C,OACI,sBAAKC,UAAWC,IAAEC,YAAc,IAAML,EAAeI,IAAEF,MAAM,IAA7D,UACI,iDAAWL,GAAWE,IACrBC,GAAiB,uBAAMG,UAAWC,IAAEF,MAAnB,cAA4BJ,EAAKI,MAAjC,Y,iCCjB9B,oEAAO,IAAMK,EAAgB,SAACC,GAC1B,IAAGA,EACH,MAAO,qBAGEC,EAAmB,SAACC,GAAD,OAAsB,SAACF,GACnD,GAAGA,EAAMG,OAASD,EAAW,MAAM,iBAAN,OAAwBA,EAAxB,e,iCCPlB,QAA0B,8D,oBCCzChB,EAAOC,QAAU,CAAC,iBAAmB,sCAAsC,SAAW,gC,oBCAtFD,EAAOC,QAAU,CAAC,WAAa,4BAA4B,MAAQ,yB,oBCAnED,EAAOC,QAAU,CAAC,KAAO,qB,6GCgDViB,MAtCf,SAAuBb,GACnB,MAA8Bc,oBAAS,GAAvC,mBAAKC,EAAL,KAAeC,EAAf,KACA,EAAwBF,mBAASd,EAAMiB,QAAvC,mBAAKC,EAAL,KAAYC,EAAZ,KAkBA,OAEI,8BACMJ,EAKE,8BACI,uBAAOK,SAbH,SAACC,GACjBF,EAASE,EAAEC,cAAcb,QAYiBc,WAAW,EAAMC,OAnBtC,WAClBxB,EAAMyB,SACLT,GAAY,GACZhB,EAAM0B,oBAAoBR,KAgBuDS,KAAK,OAAOlB,MAAOS,MALhG,8BACI,sBAAMU,cArBG,WAClB5B,EAAM6B,SAAW7B,EAAMyB,SACtBT,GAAY,GACZG,EAASnB,EAAMiB,UAkBP,SAAwCjB,EAAMiB,QAAU,mB,oFCJ5E,SAASa,IACL,OAAOC,KAAKC,MAAsB,GAAhBD,KAAKE,UAAiB,GAG5C,SAASC,IACL,IAAMC,EAAM,GAAKL,IACXM,EAAO,GAAKN,IAElB,MAAO,CACHK,IAAI,GAAD,OAAKA,EAAL,KACHC,KAAK,GAAD,OAAKA,EAAL,KACJC,UAAU,cAAD,OAAgBF,EAAhB,eAA0BC,EAA1B,OAIjB,IAAME,EAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,MAAO,CACHC,SAAU,WACVC,MAAO,IACPC,gBAAiBJ,EAAMK,QAAQC,WAAWL,MAC1CM,OAAQ,iBACRC,UAAWR,EAAMS,QAAQ,GACzBC,QAASV,EAAMW,QAAQ,EAAG,EAAG,QAoJtBC,EAjJK,SAACpD,GACjB,IAAMqD,EAAWC,cACXC,EAASC,aAAiC,SAAAC,GAAK,OAAIA,EAAMC,YAAYvD,SAC3E,EAAsCW,mBAAiByC,GAAvD,mBAAOI,EAAP,KAAoBC,EAApB,KACMC,EAAUvB,IAChB,EAAqBxB,mBAASoB,GAAvB4B,EAAP,oBACA,EAAwBhD,oBAAS,GAAjC,mBAAOiD,EAAP,KAAaC,EAAb,KAIMC,EAAc,WAChBD,GAAQ,IAENE,EAASC,YAAU,CACrBC,oBAAoB,EACpBC,cAAe,CACXC,OAAQtE,EAAMuE,QAAQD,OACtBE,QAASxE,EAAMuE,QAAQC,QACvBC,SAAUzE,EAAMuE,QAAQE,SACxBC,eAAgB1E,EAAMuE,QAAQG,eAC9BC,0BAA2B3E,EAAMuE,QAAQI,0BACzCC,SAAU,CACNC,GAAI7E,EAAMuE,QAAQK,SAASC,GAC3BC,OAAQ9E,EAAMuE,QAAQK,SAASE,OAC/BC,UAAW/E,EAAMuE,QAAQK,SAASG,UAClCC,SAAUhF,EAAMuE,QAAQK,SAASI,SACjCC,QAASjF,EAAMuE,QAAQK,SAASK,QAChCC,QAASlF,EAAMuE,QAAQK,SAASM,QAChCC,QAASnF,EAAMuE,QAAQK,SAASO,QAChCC,SAAUpF,EAAMuE,QAAQK,SAASQ,UAErCC,OAAO,CACHC,MAAM,GACNC,MAAM,KAGdC,SAAU,SAACC,GACP,IAAMlC,EAAS,GAUf,OATKkC,EAAOjB,UACRjB,EAAOiB,QAAU,YAEhBiB,EAAOhB,WACRlB,EAAOkB,SAAW,YAEjBgB,EAAOd,4BACRpB,EAAOoB,0BAA4B,YAEhCpB,GAEXmC,SAAS,WAAD,4BAAE,WAAOD,GAAP,SAAAE,EAAA,+EAEItC,EAASuC,YAAgBH,IAF7B,OAGFxB,IACAL,EAAe,IAJb,gDAMFiC,YAAS,EAAD,IACRjC,EAAe,EAAD,IAPZ,QASNM,EAAO4B,YATD,yDAAF,mDAAC,KAYPC,EACF,qBAAKC,MAAOlC,EAAY1D,UAAWyD,EAAQpB,MAA3C,SACI,uBAAMiD,SAAUxB,EAAO+B,aAAvB,UACKtC,GAAe,qBAAKqC,MAAO,CAACjD,OAAQ,gBAAiBmD,MAAO,UAAWhD,QAAS,QAAjE,SACXS,IAEL,gCACI,0CACA,cAACwC,EAAA,EAAD,aAAWxE,KAAM,WAAgBuC,EAAOkC,cAAc,aACrDlC,EAAOhE,QAAQsE,SAAWN,EAAOX,OAAOiB,SACzC,qBAAKwB,MAAO,CAACE,MAAO,OAApB,SAA6BhC,EAAOX,OAAOiB,aAE/C,gCACI,2CACA,mCAAO7C,KAAM,YAAgBuC,EAAOkC,cAAc,cACjDlC,EAAOhE,QAAQuE,UAAYP,EAAOX,OAAOkB,UAC1C,qBAAKuB,MAAO,CAACE,MAAO,OAApB,SAA6BhC,EAAOX,OAAOkB,cAG/C,gCACI,iDACA,uBAAO9C,KAAM,gBAEjB,gCACI,2CACA,mCAAOA,KAAM,6BAAiCuC,EAAOkC,cAAP,+BAC7ClC,EAAOhE,QAAQyE,2BAA6BT,EAAOX,OAAOoB,2BAC3D,qBAAKqB,MAAO,CAACE,MAAO,OAApB,SAA6BhC,EAAOX,OAAOoB,+BAE/C,0CACC0B,OAAOC,KAAKtG,EAAMuE,QAAQK,UAAU2B,KAAI,SAACC,EAAKC,GAC3C,OAAO,sBAAKrG,UAAWC,IAAEuE,SAAlB,UACH,8BAAI4B,EAAJ,OACA,8BACI,mCAAO7E,KAAI,mBAAc6E,IAAWtC,EAAOkC,cAAP,mBAAiCI,UAHrCC,MAQ5C,wBAAQC,UAAWxC,EAAOyC,QAAShF,KAAM,SAAUuE,MAAO,UAA1D,uBAKZ,OACI,gCACKlG,EAAM6B,SAAW,wBAAQF,KAAK,SAAS+E,UAAW1G,EAAMyB,OAAQmF,QApGtD,WACf5C,GAAQ,IAmGc,4BAGlB,cAAC6C,EAAA,EAAD,CACI9C,KAAMA,EACN+C,QAAS7C,EACT8C,kBAAgB,qBAChBC,mBAAiB,2BAJrB,SAMKjB,IAGL,gCACI,0CADJ,IACsB/F,EAAMuE,QAAQC,WAGpC,gCACI,sCADJ,IACkBxE,EAAMuE,QAAQE,YAEhC,gCACI,mDADJ,IAC+BzE,EAAMuE,QAAQG,eAAiB,MAAQ,QAEtE,gCACI,2CADJ,IACuB1E,EAAMuE,QAAQI,6BAErC,2CACA,sBAAKvE,UAAWC,IAAEuE,SAAlB,UAA4B,oCAA5B,IAAwC5E,EAAMuE,QAAQK,SAASC,MAC/D,sBAAKzE,UAAWC,IAAEuE,SAAlB,UAA4B,wCAA5B,IAA4C5E,EAAMuE,QAAQK,SAASE,UACnE,sBAAK1E,UAAWC,IAAEuE,SAAlB,UAA4B,yCAA5B,IAA6C5E,EAAMuE,QAAQK,SAASO,WACpE,sBAAK/E,UAAWC,IAAEuE,SAAlB,UAA4B,0CAA5B,IAA8C5E,EAAMuE,QAAQK,SAASI,YACrE,sBAAK5E,UAAWC,IAAEuE,SAAlB,UAA4B,yCAA5B,IAA6C5E,EAAMuE,QAAQK,SAASM,WACpE,sBAAK9E,UAAWC,IAAEuE,SAAlB,UAA4B,0CAA5B,IAA8C5E,EAAMuE,QAAQK,SAASQ,YACrE,sBAAKhF,UAAWC,IAAEuE,SAAlB,UAA4B,2CAA5B,IAA+C5E,EAAMuE,QAAQK,SAASG,aACtE,sBAAK3E,UAAWC,IAAEuE,SAAlB,UAA4B,yCAA5B,IAA6C5E,EAAMuE,QAAQK,SAASK,eClJjEgC,MAhCf,SAAqBjH,GACjB,IAAMyB,EAAS+B,aAAmC,SAAAC,GAAK,OAAIA,EAAMyD,KAAKC,KAAK1F,UAC3E,OAAKzB,EAAMuE,QASP,8BACI,sBAAKnE,UAAWC,IAAE+G,iBAAlB,UACI,gCACI,qBAAKC,IAAKrH,EAAMqF,OAAOE,OAAS+B,IAAWC,IAAI,gBAC9CvH,EAAM6B,SAAS,uBAAOF,KAAK,OAAO+E,UAAWjF,EAAQL,SAV1C,SAACC,GACrBA,EAAEmG,OAAOC,OACTzH,EAAM0H,cAAcrG,EAAEmG,OAAOC,MAAM,OAS3B,cAAC,EAAD,CAAexG,OAAQjB,EAAMiB,OACdS,oBAAqB1B,EAAM0B,oBAC3BG,QAAS7B,EAAM6B,QACfJ,OAAQA,OAI3B,cAAC,EAAD,CAAaI,QAAS7B,EAAM6B,QACf0C,QAASvE,EAAMuE,QACf9C,OAAQA,SAtBtB,cAACkG,EAAA,EAAD,K,oCCIAC,MAjBf,SAAc5H,GACV,OACI,8BACI,sBAAKI,UAAWC,IAAEwH,KAAlB,UACI,qBAAKR,IAAI,gEAAgEE,IAAI,KAC5EvH,EAAM8H,QACP,8BACI,iCACK9H,EAAM+H,KACP,qD,oCCVpBpH,EAAYD,YAAiB,IAoClBsH,EAlCCC,IAAMC,MAAK,SAAClI,GAExB,IAAImI,EAAcnI,EAAM8H,QAAQvB,KAAI,SAAC6B,EAAG3B,GAAJ,OAAU,cAAC,EAAD,CAAeqB,QAASM,EAAGN,QAASC,KAAMK,EAAGC,WAAjC5B,MAI1D,OAEI,sBAAKrG,UAAWC,IAAEiI,WAAlB,UACI,0CACA,8BACI,cAACC,EAAD,CAAe7C,SARb,SAACjF,GACXT,EAAMwI,QAAQ/H,EAAMgI,YAShB,qBAAKrI,UAAWC,IAAEoI,MAAlB,SACKN,UAqBJI,EAAgBG,YAAkB,CAACC,KAAM,SAAzBD,EAfyB,SAAC1I,GACnD,OACI,uBAAM4I,OAAO,GAAGlD,SAAU1F,EAAMiG,aAAhC,UACI,8BACI,cAAC4C,EAAA,EAAD,CAAOC,UAAWjJ,IAAUkJ,KAAM,QAASC,YAAa,mBACpDxD,SAAU,CAAChF,IAAeG,OAGlC,8BACI,0DCPDsI,EAFUC,aAbD,SAACzF,GACrB,MAAM,CACFqE,QAASrE,EAAMC,YAAYoE,YAGR,SAACzE,GACxB,MAAM,CACFmF,QAAS,SAACC,GACNpF,EAASmF,YAAQC,QAKJS,CAA6ClB,GCEvDmB,MAjBf,YAA2G,IAAzF5E,EAAwF,EAAxFA,QAAQ7C,EAAgF,EAAhFA,oBAAoB2D,EAA4D,EAA5DA,OAAOqC,EAAqD,EAArDA,cAAczG,EAAuC,EAAvCA,OAAOY,EAAgC,EAAhCA,QAEtE,OACI,gCACI,cAAC,EAAD,CACIZ,OAAQA,EACRsD,QAASA,EACT7C,oBAAqBA,EACrB2D,OAAQA,EACRqC,cAAeA,EACf7F,QAASA,IAEb,cAAC,EAAD,Q,eC4DGuH,4BAA6BF,aATtB,SAACzF,GACnB,MAAO,CACHc,QAASd,EAAMC,YAAYa,QAC3BtD,OAAQwC,EAAMC,YAAYzC,OAC1BQ,OAAQgC,EAAMyD,KAAKC,KAAK1F,OACxB4H,iBAAkB5F,EAAMyD,KAAKC,KAAKmC,GAClCjE,OAAQ5B,EAAMC,YAAYa,QAAQc,UAIlC,CAACkE,eAAYC,qBAAkB9H,wBAAqBgG,oBACxD+B,IAFWL,EAnDU,SAACpJ,GACtB,IAAMqD,EAAWC,cACboG,EAAOlG,aAAyC,SAAAC,GAAK,OAAIA,EAAMyD,KAAKC,KAAKmC,MACzEA,EAAKK,SAAS3J,EAAM4J,MAAMC,OAAOvF,QAC/BwF,EAAYtG,aAAmC,SAAAC,GAAK,OAAIA,EAAMC,YAAYoG,aAC1EC,EAAWvG,aAAmC,SAAAC,GAAK,OAAIA,EAAMyD,KAAKC,KAAK1F,UAiB7E,OAfAuI,qBAAU,WACFD,IACKT,GAAc,MAARI,GAKP1J,EAAMuJ,WAAWD,GACjBjG,EAASmG,YAAiBF,MAL1BtJ,EAAMuJ,WAAWG,GACjBrG,EAASmG,YAAiBE,QAOnC,CAACJ,EAAII,IAKJ,8BACMI,EACE,cAAC,EAAD,2BAAa9J,GAAb,IACSuE,QAASvE,EAAMuE,QACfgF,WAAYvJ,EAAMuJ,WAClBtI,OAAQjB,EAAMiB,OACduI,iBAAkBxJ,EAAMwJ,iBACxB9H,oBAAqB1B,EAAM0B,oBAC3BD,OAAQzB,EAAMyB,OACd4H,iBAAkBrJ,EAAMqJ,iBACxBhE,OAAQrF,EAAMqF,OACdqC,cAAe1H,EAAM0H,cACrB7F,SAAUyH,KAXT,cAAC3B,EAAA,EAAD","file":"static/js/5.7246f8ee.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControl_formControl__3bI51\",\"error\":\"FormControl_error__2p-ba\",\"formSummaryError\":\"FormControl_formSummaryError__2aYFp\"};","import React from 'react'\r\nimport s from './FormControl.module.css'\r\nexport const TextArea = ({input, meta, ...props}:any) => {\r\n    const TextAreaError = meta.touched && meta.error\r\n    return(\r\n        <div className={s.formControl + '' + (TextAreaError? s.error:'')}>\r\n            <div >\r\n                <textarea {...input}{...props} />\r\n            </div>\r\n            {TextAreaError && <span> {meta.error} </span>}\r\n        </div>\r\n    )\r\n}\r\nexport const InputArea = ({input, meta, ...props}:any) => {\r\n    const TextAreaError = meta.touched && meta.error\r\n    return(\r\n        <div className={s.formControl + '' + (TextAreaError? s.error:'')}>\r\n            <input {...input} {...props}/>\r\n            {TextAreaError && <span className={s.error}> {meta.error} </span>}\r\n        </div>\r\n    )\r\n}","\r\nexport const requiredField = (value:any) => {\r\n    if(value) return undefined\r\n    return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength:number) => (value:any) => {\r\n    if(value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n}\r\n","export default __webpack_public_path__ + \"static/media/51f6fb256629fc755b8870c801092942.22c31152.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__2Y1mw\",\"contacts\":\"ProfileInfo_contacts__1ifIm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBLock\":\"MyPosts_postsBLock__2XgTU\",\"posts\":\"MyPosts_posts__2c1oP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__12Fn7\"};","import React, {ChangeEvent, useEffect, useState} from 'react'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {updateProfileStatus} from \"../../../redux/profile-reducer\";\r\nimport {AppStateType} from \"../../../redux/redux-store\";\r\ntype ProfileStatusPropsType = {\r\n    status: string;\r\n    updateProfileStatus: (status:string) => void;\r\n    isOwner:boolean;\r\n    isAuth:boolean;\r\n}\r\n\r\nfunction ProfileStatus(props: ProfileStatusPropsType) {\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [title, setTitle] = useState(props.status);\r\n\r\n    const activateEditMode = () => {\r\n        if(props.isOwner && props.isAuth){\r\n            setEditMode(true);\r\n            setTitle(props.status);\r\n        }\r\n    }\r\n    const activateViewMode = () => {\r\n        if(props.isAuth){\r\n            setEditMode(false);\r\n            props.updateProfileStatus(title);\r\n        }\r\n    }\r\n    const changeTitle = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setTitle(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n\r\n        <div>\r\n            {!editMode ?\r\n                <div>\r\n                    <span onDoubleClick={activateEditMode}>{props.status || 'no status'}</span>\r\n                </div>\r\n                :\r\n                <div>\r\n                    <input onChange={changeTitle} autoFocus={true} onBlur={activateViewMode} type=\"text\" value={title}/>\r\n                </div>\r\n            }\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default ProfileStatus","import {useFormik} from \"formik\";\r\nimport {ProfileType, saveUserProfile, setError} from \"../../../redux/profile-reducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {useState} from \"react\";\r\nimport s from './ProfileInfo.module.css'\r\nimport {makeStyles, Modal, TextField} from \"@material-ui/core\";\r\nimport {AppStateType} from \"../../../redux/redux-store\";\r\n\r\ntype ContactsType = {\r\n    vk: string;\r\n    github: string;\r\n    instagram: string;\r\n    facebook: string;\r\n    twitter: string,\r\n    website: string,\r\n    youtube: string,\r\n    mainLink: string\r\n}\r\ntype PropsType = {\r\n    isOwner: boolean;\r\n    profile: ProfileType;\r\n    isAuth:boolean;\r\n}\r\ntype FormikErrorType = {\r\n    userId?: number;\r\n    aboutMe?: string;\r\n    fullName?: string;\r\n    lookingForAJob?: boolean;\r\n    lookingForAJobDescription?: string;\r\n    contacts: ContactsType;\r\n}\r\n\r\nfunction rand() {\r\n    return Math.round(Math.random() * 20) - 10;\r\n}\r\n\r\nfunction getModalStyle() {\r\n    const top = 50 + rand();\r\n    const left = 50 + rand();\r\n\r\n    return {\r\n        top: `${top}%`,\r\n        left: `${left}%`,\r\n        transform: `translate(-${top}%, -${left}%)`,\r\n    };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n        position: 'absolute',\r\n        width: 400,\r\n        backgroundColor: theme.palette.background.paper,\r\n        border: '2px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3),\r\n    },\r\n}));\r\nconst ProfileData = (props: PropsType) => {\r\n    const dispatch = useDispatch()\r\n    const errors = useSelector<AppStateType,string>(state => state.profilePage.error)\r\n    const [serverError, setServerError] = useState<string>(errors)\r\n    const classes = useStyles();\r\n    const [modalStyle] = useState(getModalStyle);\r\n    const [open, setOpen] = useState(false);\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n    };\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n    const formik = useFormik({\r\n        enableReinitialize: true,\r\n        initialValues: {\r\n            userId: props.profile.userId,\r\n            aboutMe: props.profile.aboutMe,\r\n            fullName: props.profile.fullName,\r\n            lookingForAJob: props.profile.lookingForAJob,\r\n            lookingForAJobDescription: props.profile.lookingForAJobDescription,\r\n            contacts: {\r\n                vk: props.profile.contacts.vk,\r\n                github: props.profile.contacts.github,\r\n                instagram: props.profile.contacts.instagram,\r\n                facebook: props.profile.contacts.facebook,\r\n                twitter: props.profile.contacts.twitter,\r\n                website: props.profile.contacts.website,\r\n                youtube: props.profile.contacts.youtube,\r\n                mainLink: props.profile.contacts.mainLink\r\n            },\r\n            photos:{\r\n                small:'',\r\n                large:''\r\n            }\r\n        },\r\n        validate: (values) => {\r\n            const errors = {} as FormikErrorType;\r\n            if (!values.aboutMe) {\r\n                errors.aboutMe = 'Required';\r\n            }\r\n            if (!values.fullName) {\r\n                errors.fullName = 'Required';\r\n            }\r\n            if (!values.lookingForAJobDescription) {\r\n                errors.lookingForAJobDescription = 'Required';\r\n            }\r\n            return errors;\r\n        },\r\n        onSubmit: async (values) => {\r\n            try {\r\n                await dispatch(saveUserProfile(values))\r\n                handleClose()\r\n                setServerError('')\r\n            }catch (e){\r\n                setError(e)\r\n                setServerError(e)\r\n            }\r\n            formik.resetForm();\r\n        },\r\n    })\r\n    const body = (\r\n        <div style={modalStyle} className={classes.paper}>\r\n            <form onSubmit={formik.handleSubmit}>\r\n                {serverError && <div style={{border: \"1px solid red\", color: \"darkred\", padding: \"10px\"}}>\r\n                    {serverError}\r\n                </div>}\r\n                <div>\r\n                    <b>About Me:</b>\r\n                    <TextField type={'aboutMe'}  {...formik.getFieldProps('aboutMe')}/>\r\n                    {formik.touched.aboutMe && formik.errors.aboutMe &&\r\n                    <div style={{color: 'red'}}>{formik.errors.aboutMe}</div>}\r\n                </div>\r\n                <div>\r\n                    <b>Full name:</b>\r\n                    <input type={'fullName'} {...formik.getFieldProps('fullName')}/>\r\n                    {formik.touched.fullName && formik.errors.fullName &&\r\n                    <div style={{color: 'red'}}>{formik.errors.fullName}</div>}\r\n\r\n                </div>\r\n                <div>\r\n                    <b>Looking for job:</b>\r\n                    <input type={'checkbox'}/>\r\n                </div>\r\n                <div>\r\n                    <b>My skills:</b>\r\n                    <input type={'lookingForAJobDescription'} {...formik.getFieldProps(`lookingForAJobDescription`)}/>\r\n                    {formik.touched.lookingForAJobDescription && formik.errors.lookingForAJobDescription &&\r\n                    <div style={{color: 'red'}}>{formik.errors.lookingForAJobDescription}</div>}\r\n                </div>\r\n                <b>Contacts:</b>\r\n                {Object.keys(props.profile.contacts).map((key, i) => {\r\n                    return <div className={s.contacts} key={i}>\r\n                        <b>{key}:</b>\r\n                        <div>\r\n                            <input type={`contacts.${key}`} {...formik.getFieldProps(`contacts.${key}`)}/>\r\n                        </div>\r\n\r\n                    </div>\r\n                })}\r\n                <button disabled={!formik.isValid} type={'submit'} color={'primary'}>save</button>\r\n            </form>\r\n        </div>\r\n    )\r\n\r\n    return (\r\n        <div>\r\n            {props.isOwner && <button type=\"button\" disabled={!props.isAuth} onClick={handleOpen}>\r\n                update profile\r\n            </button>}\r\n            <Modal\r\n                open={open}\r\n                onClose={handleClose}\r\n                aria-labelledby=\"simple-modal-title\"\r\n                aria-describedby=\"simple-modal-description\"\r\n            >\r\n                {body}\r\n            </Modal>\r\n\r\n            <div>\r\n                <b>About me:</b> {props.profile.aboutMe}\r\n\r\n            </div>\r\n            <div>\r\n                <b>Name:</b> {props.profile.fullName}\r\n            </div>\r\n            <div>\r\n                <b>Looking for a job:</b> {props.profile.lookingForAJob ? 'yes' : 'no'}\r\n            </div>\r\n            <div>\r\n                <b>My Skills:</b> {props.profile.lookingForAJobDescription}\r\n            </div>\r\n            <b> Contacts:</b>\r\n            <div className={s.contacts}><b>vk:</b> {props.profile.contacts.vk}</div>\r\n            <div className={s.contacts}><b>github:</b> {props.profile.contacts.github}</div>\r\n            <div className={s.contacts}><b>youtube:</b> {props.profile.contacts.youtube}</div>\r\n            <div className={s.contacts}><b>facebook:</b> {props.profile.contacts.facebook}</div>\r\n            <div className={s.contacts}><b>website:</b> {props.profile.contacts.website}</div>\r\n            <div className={s.contacts}><b>mainLink:</b> {props.profile.contacts.mainLink}</div>\r\n            <div className={s.contacts}><b>instagram:</b> {props.profile.contacts.instagram}</div>\r\n            <div className={s.contacts}><b>twitter:</b> {props.profile.contacts.twitter}</div>\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default ProfileData;","import React, {ChangeEvent} from 'react'\r\nimport s from './ProfileInfo.module.css'\r\nimport {ProfilePhotoType, ProfileType, saveUserProfile, setError} from \"../../../redux/profile-reducer\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport ProfileStatus from './ProfileStatus'\r\nimport userPhoto from './../../../Pics/51f6fb256629fc755b8870c801092942.png'\r\nimport ProfileData from \"./ProfileData\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../../redux/redux-store\";\r\n\r\ntype ProfileInfoType = {\r\n    profile: ProfileType | null\r\n    status: string;\r\n    updateProfileStatus: (status: string) => void;\r\n    photos: ProfilePhotoType\r\n    saveUserPhoto: (img: File) => void\r\n    isOwner:boolean;\r\n}\r\n\r\nfunction ProfileInfo(props: ProfileInfoType) {\r\n    const isAuth = useSelector<AppStateType, boolean>(state => state.auth.data.isAuth)\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n    const onMainPhotoSelected = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files) {\r\n            props.saveUserPhoto(e.target.files[0])\r\n        }\r\n    }\r\n    return (\r\n        <div>\r\n            <div className={s.descriptionBlock}>\r\n                <div>\r\n                    <img src={props.photos.large || userPhoto} alt=\"profile pic\"/>\r\n                    {props.isOwner&&<input type=\"file\" disabled={!isAuth} onChange={onMainPhotoSelected}/>}\r\n                    <ProfileStatus status={props.status}\r\n                                   updateProfileStatus={props.updateProfileStatus}\r\n                                   isOwner={props.isOwner}\r\n                                   isAuth={isAuth}\r\n\r\n                    />\r\n                </div>\r\n                <ProfileData isOwner={props.isOwner}\r\n                             profile={props.profile}\r\n                             isAuth={isAuth}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo","import React from 'react';\n\nimport s from './Post.module.css';\n\ntype PostPropsType={\n    message: string\n    like:number\n}\n\nfunction Post(props:PostPropsType) {\n    return (\n        <div >\n            <div className={s.item}>\n                <img src=\"https://lwlies.com/wp-content/uploads/2017/04/avatar-2009.jpg\" alt=\"\"/>\n                {props.message}\n                <div>\n                    <span>\n                        {props.like}\n                        <button>like</button>\n                    </span>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Post;\n","import React from 'react';\nimport s from './MyPosts.module.css';\nimport Posts from \"./Post/Post\";\nimport {ProfilePropsType} from \"./MyPostsContainer\";\nimport {Field, InjectedFormProps} from \"redux-form\";\nimport {reduxForm} from \"redux-form\";\nimport { maxLengthCreator, requiredField} from \"../../utils/validators/validator\";\nimport {TextArea} from \"../../common/FormController/FormController\";\nlet maxLength = maxLengthCreator(99)\n\nconst MyPosts = React.memo((props: ProfilePropsType) => {\n\n    let messageData = props.message.map((el,i) => <Posts key={i} message={el.message} like={el.likeCount}/>)\n    let addPost = (value:any) => {\n        props.addPost(value.posts)\n    }\n    return (\n\n        <div className={s.postsBLock}>\n            <h3>My posts</h3>\n            <div>\n                <PostFormRedux onSubmit={addPost}/>\n            </div>\n            <div className={s.posts}>\n                {messageData}\n            </div>\n        </div>\n    );\n});\n\nconst PostForm: React.FC<InjectedFormProps<string>> = (props) => {\n    return (\n        <form action=\"\" onSubmit={props.handleSubmit}>\n            <div>\n                <Field component={TextArea} name={'posts'} placeholder={'Enter some posts'}\n                    validate={[requiredField, maxLength]}\n                />\n            </div>\n            <div>\n                <button>add new post</button>\n            </div>\n        </form>\n    )\n}\nexport default MyPosts;\nexport const PostFormRedux = reduxForm<string>({form: 'posts'})(PostForm)","import React from 'react';\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../../redux/redux-store\";\r\nimport {addPost, messageType} from \"../../../redux/profile-reducer\";\r\nimport {Dispatch} from \"redux\";\r\n\r\ntype MapStateToPropsType = {\r\n    message: messageType[];\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n    addPost:(posts:string) => void;\r\n}\r\n\r\nexport type ProfilePropsType = MapStateToPropsType & MapDispatchToPropsType\r\n\r\nconst mapStateToProps = (state:AppStateType): MapStateToPropsType => {\r\n    return{\r\n        message: state.profilePage.message,\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch:Dispatch) :MapDispatchToPropsType => {\r\n    return{\r\n        addPost: (posts:string) => {\r\n            dispatch(addPost(posts))\r\n        }\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer;\r\n","import React from 'react';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport {ProfilePhotoType, ProfileType} from \"../../redux/profile-reducer\";\r\nimport {ProfileContainerPropsType} from \"./ProfileContainer\";\r\n\r\ntype ProfilePropsType = {\r\n    profile: ProfileType | null\r\n    photos:ProfilePhotoType\r\n    saveUserPhoto:(img:File)=>void\r\n    isOwner:boolean;\r\n    status:string\r\n}\r\n\r\ntype MainProfilePropsType = ProfilePropsType & ProfileContainerPropsType\r\nfunction Profile({profile,updateProfileStatus,photos,saveUserPhoto,status,isOwner}: MainProfilePropsType) {\r\n\r\n    return (\r\n        <div>\r\n            <ProfileInfo\r\n                status={status}\r\n                profile={profile}\r\n                updateProfileStatus={updateProfileStatus}\r\n                photos={photos}\r\n                saveUserPhoto={saveUserPhoto}\r\n                isOwner={isOwner}\r\n            />\r\n            <MyPostsContainer/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Profile;\r\n","import React, {useEffect} from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect, useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {\r\n    GetProfile,\r\n    getProfileStatus,\r\n    ProfilePhotoType,\r\n    ProfileType, saveUserPhoto,\r\n    updateProfileStatus\r\n} from \"../../redux/profile-reducer\";\r\nimport {compose} from 'redux'\r\nimport {withRouter} from \"react-router\";\r\nimport {Redirect, RouteComponentProps, useParams} from \"react-router-dom\";\r\nimport {CircularProgress} from \"@material-ui/core\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\n\r\ntype MapStateToPropsType = {\r\n    photos: ProfilePhotoType\r\n    profile: ProfileType | null;\r\n    status: string;\r\n    isAuth: boolean;\r\n    authorizedUserId: number | null;\r\n}\r\ntype MapStateDispatchToPropsType = {\r\n    GetProfile: (userId: number) => void;\r\n    getProfileStatus: (userId: number) => void;\r\n    updateProfileStatus: (status: string) => void;\r\n    saveUserPhoto: (img: File) => void\r\n}\r\ntype PathParamsType = {\r\n    userId: string\r\n}\r\nexport type ProfileContainerPropsType = MapStateToPropsType & MapStateDispatchToPropsType\r\nexport type PropsType = ProfileContainerPropsType & RouteComponentProps<PathParamsType>\r\n\r\nconst ProfileContainer = (props: PropsType) => {\r\n    const dispatch = useDispatch()\r\n    let myId = useSelector<AppStateType, number | null>(state => state.auth.data.id)\r\n    let id = parseInt(props.match.params.userId)\r\n    const setToggle = useSelector<AppStateType, boolean>(state => state.profilePage.setToggle)\r\n    const isLogged = useSelector<AppStateType, boolean>(state => state.auth.data.isAuth)\r\n\r\n    useEffect(() => {\r\n        if (isLogged) {\r\n            if (!id && myId != null) {\r\n                props.GetProfile(myId)\r\n                dispatch(getProfileStatus(myId))\r\n\r\n            } else {\r\n                props.GetProfile(id)\r\n                dispatch(getProfileStatus(id))\r\n            }\r\n        }\r\n    }, [id, myId])\r\n    // if(!isLogged){\r\n    //     return <div> <Redirect to={'/login'}/> </div>\r\n    // }\r\n    return (\r\n        <div>\r\n            {!setToggle ? <Preloader/> :\r\n                <Profile {...props}\r\n                         profile={props.profile}\r\n                         GetProfile={props.GetProfile}\r\n                         status={props.status}\r\n                         getProfileStatus={props.getProfileStatus}\r\n                         updateProfileStatus={props.updateProfileStatus}\r\n                         isAuth={props.isAuth}\r\n                         authorizedUserId={props.authorizedUserId}\r\n                         photos={props.photos}\r\n                         saveUserPhoto={props.saveUserPhoto}\r\n                         isOwner={!id}\r\n                />\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        isAuth: state.auth.data.isAuth,\r\n        authorizedUserId: state.auth.data.id,\r\n        photos: state.profilePage.profile.photos\r\n    }\r\n}\r\nexport default compose<React.ComponentType>(connect(mapStateToProps,\r\n        {GetProfile, getProfileStatus, updateProfileStatus, saveUserPhoto}),\r\n    withRouter) //withAuthRedirectComponent\r\n    (ProfileContainer)"],"sourceRoot":""}