(this.webpackJsonpworkproject=this.webpackJsonpworkproject||[]).push([[5],{260:function(e,t,o){e.exports={formControl:"FormControl_formControl__3bI51",error:"FormControl_error__2p-ba",formSummaryError:"FormControl_formSummaryError__2aYFp"}},262:function(e,t,o){"use strict";o.d(t,"b",(function(){return a})),o.d(t,"a",(function(){return l}));var c=o(3),r=o(261),s=(o(0),o(260)),i=o.n(s),n=o(2),a=function(e){var t=e.input,o=e.meta,s=Object(r.a)(e,["input","meta"]),a=o.touched&&o.error;return Object(n.jsxs)("div",{className:i.a.formControl+""+(a?i.a.error:""),children:[Object(n.jsx)("div",{children:Object(n.jsx)("textarea",Object(c.a)(Object(c.a)({},t),s))}),a&&Object(n.jsxs)("span",{children:[" ",o.error," "]})]})},l=function(e){var t=e.input,o=e.meta,s=Object(r.a)(e,["input","meta"]),a=o.touched&&o.error;return Object(n.jsxs)("div",{className:i.a.formControl+""+(a?i.a.error:""),children:[Object(n.jsx)("input",Object(c.a)(Object(c.a)({},t),s)),a&&Object(n.jsxs)("span",{className:i.a.error,children:[" ",o.error," "]})]})}},263:function(e,t,o){"use strict";o.d(t,"b",(function(){return c})),o.d(t,"a",(function(){return r}));var c=function(e){if(!e)return"Field is required"},r=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}},273:function(e,t,o){"use strict";t.a=o.p+"static/media/51f6fb256629fc755b8870c801092942.22c31152.png"},291:function(e,t,o){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__2Y1mw",contacts:"ProfileInfo_contacts__1ifIm"}},355:function(e,t,o){e.exports={postsBLock:"MyPosts_postsBLock__2XgTU",posts:"MyPosts_posts__2c1oP"}},356:function(e,t,o){e.exports={item:"Post_item__12Fn7"}},379:function(e,t,o){"use strict";o.r(t);var c=o(3),r=o(0),s=o.n(r),i=o(291),n=o.n(i),a=o(69),l=o(267),b=o(26),j=o(60),u=o(2);var d=function(e){var t=Object(b.c)(),o=Object(r.useState)(!1),c=Object(l.a)(o,2),s=c[0],i=c[1],n=Object(r.useState)(e.status),a=Object(l.a)(n,2),d=a[0],p=a[1];return Object(r.useEffect)((function(){t(Object(j.h)(d))}),[e.status]),Object(u.jsx)("div",{children:s?Object(u.jsx)("div",{children:Object(u.jsx)("input",{onChange:function(e){p(e.currentTarget.value)},autoFocus:!0,onBlur:function(){i(!1),e.updateProfileStatus(d)},type:"text",value:d})}):Object(u.jsx)("div",{children:Object(u.jsx)("span",{onDoubleClick:function(){i(!0),p(e.status)},children:e.status||"no status"})})})},p=o(273),f=o(5),O=o.n(f),h=o(9),x=o(357),m=o(375),v=o(377),g=o(378);function k(){return Math.round(20*Math.random())-10}function P(){var e=50+k(),t=50+k();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var y=Object(m.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),w=function(e){var t=Object(b.c)(),o=Object(b.d)((function(e){return e.profilePage.error})),s=Object(r.useState)(o),i=Object(l.a)(s,2),a=i[0],d=i[1];console.log(a);var p=y(),f=Object(r.useState)(P),m=Object(l.a)(f,1)[0],k=Object(r.useState)(!1),w=Object(l.a)(k,2),N=w[0],F=w[1],S=function(){F(!1)},_=Object(x.a)({enableReinitialize:!0,initialValues:{userId:e.profile.userId,aboutMe:e.profile.aboutMe,fullName:e.profile.fullName,lookingForAJob:e.profile.lookingForAJob,lookingForAJobDescription:e.profile.lookingForAJobDescription,contacts:{vk:e.profile.contacts.vk,github:e.profile.contacts.github,instagram:e.profile.contacts.instagram,facebook:e.profile.contacts.facebook,twitter:e.profile.contacts.twitter,website:e.profile.contacts.website,youtube:e.profile.contacts.youtube,mainLink:e.profile.contacts.mainLink},photos:{small:"",large:""}},validate:function(e){var t={};return e.aboutMe||(t.aboutMe="Required"),e.fullName||(t.fullName="Required"),e.lookingForAJobDescription||(t.lookingForAJobDescription="Required"),t},onSubmit:function(){var e=Object(h.a)(O.a.mark((function e(o){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(Object(j.f)(o));case 3:S(),d(""),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Object(j.g)(e.t0),d(e.t0);case 11:_.resetForm();case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}),A=Object(u.jsx)("div",{style:m,className:p.paper,children:Object(u.jsxs)("form",{onSubmit:_.handleSubmit,children:[a&&Object(u.jsx)("div",{style:{border:"1px solid red",color:"darkred",padding:"10px"},children:a}),Object(u.jsxs)("div",{children:[Object(u.jsx)("b",{children:"About Me:"}),Object(u.jsx)(v.a,Object(c.a)({type:"aboutMe"},_.getFieldProps("aboutMe"))),_.touched.aboutMe&&_.errors.aboutMe&&Object(u.jsx)("div",{style:{color:"red"},children:_.errors.aboutMe})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("b",{children:"Full name:"}),Object(u.jsx)("input",Object(c.a)({type:"fullName"},_.getFieldProps("fullName"))),_.touched.fullName&&_.errors.fullName&&Object(u.jsx)("div",{style:{color:"red"},children:_.errors.fullName})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("b",{children:"Looking for job:"}),Object(u.jsx)("input",{type:"checkbox"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("b",{children:"My skills:"}),Object(u.jsx)("input",Object(c.a)({type:"lookingForAJobDescription"},_.getFieldProps("lookingForAJobDescription"))),_.touched.lookingForAJobDescription&&_.errors.lookingForAJobDescription&&Object(u.jsx)("div",{style:{color:"red"},children:_.errors.lookingForAJobDescription})]}),Object(u.jsx)("b",{children:"Contacts:"}),Object.keys(e.profile.contacts).map((function(e,t){return Object(u.jsxs)("div",{className:n.a.contacts,children:[Object(u.jsxs)("b",{children:[e,":"]}),Object(u.jsx)("div",{children:Object(u.jsx)("input",Object(c.a)({type:"contacts.".concat(e)},_.getFieldProps("contacts.".concat(e))))})]},t)})),Object(u.jsx)("button",{disabled:!_.isValid,type:"submit",color:"primary",children:"save"})]})});return Object(u.jsxs)("div",{children:[e.isOwner&&Object(u.jsx)("button",{type:"button",onClick:function(){F(!0)},children:"update profile"}),Object(u.jsx)(g.a,{open:N,onClose:S,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:A}),Object(u.jsxs)("div",{children:[Object(u.jsx)("b",{children:"About me:"})," ",e.profile.aboutMe]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("b",{children:"Name:"})," ",e.profile.fullName]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("b",{children:"Looking for a job:"})," ",e.profile.lookingForAJob?"yes":"no"]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("b",{children:"My Skills:"})," ",e.profile.lookingForAJobDescription]}),Object(u.jsx)("b",{children:" Contacts:"}),Object(u.jsxs)("div",{className:n.a.contacts,children:[Object(u.jsx)("b",{children:"vk:"})," ",e.profile.contacts.vk]}),Object(u.jsxs)("div",{className:n.a.contacts,children:[Object(u.jsx)("b",{children:"github:"})," ",e.profile.contacts.github]}),Object(u.jsxs)("div",{className:n.a.contacts,children:[Object(u.jsx)("b",{children:"youtube:"})," ",e.profile.contacts.youtube]}),Object(u.jsxs)("div",{className:n.a.contacts,children:[Object(u.jsx)("b",{children:"facebook:"})," ",e.profile.contacts.facebook]}),Object(u.jsxs)("div",{className:n.a.contacts,children:[Object(u.jsx)("b",{children:"website:"})," ",e.profile.contacts.website]}),Object(u.jsxs)("div",{className:n.a.contacts,children:[Object(u.jsx)("b",{children:"mainLink:"})," ",e.profile.contacts.mainLink]}),Object(u.jsxs)("div",{className:n.a.contacts,children:[Object(u.jsx)("b",{children:"instagram:"})," ",e.profile.contacts.instagram]}),Object(u.jsxs)("div",{className:n.a.contacts,children:[Object(u.jsx)("b",{children:"twitter:"})," ",e.profile.contacts.twitter]})]})};var N=function(e){return e.profile?Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:n.a.descriptionBlock,children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:e.photos.large||p.a,alt:"profile pic"}),e.isOwner&&Object(u.jsx)("input",{type:"file",onChange:function(t){t.target.files&&e.saveUserPhoto(t.target.files[0])}}),Object(u.jsx)(d,{status:e.status,updateProfileStatus:e.updateProfileStatus})]}),Object(u.jsx)(w,{isOwner:e.isOwner,profile:e.profile})]})}):Object(u.jsx)(a.a,{})},F=o(355),S=o.n(F),_=o(356),A=o.n(_);var M=function(e){return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:A.a.item,children:[Object(u.jsx)("img",{src:"https://lwlies.com/wp-content/uploads/2017/04/avatar-2009.jpg",alt:""}),e.message,Object(u.jsx)("div",{children:Object(u.jsxs)("span",{children:[e.like,Object(u.jsx)("button",{children:"like"})]})})]})})},C=o(116),J=o(117),D=o(263),I=o(262),U=Object(D.a)(99),L=s.a.memo((function(e){var t=e.message.map((function(e,t){return Object(u.jsx)(M,{message:e.message,like:e.likeCount},t)}));return Object(u.jsxs)("div",{className:S.a.postsBLock,children:[Object(u.jsx)("h3",{children:"My posts"}),Object(u.jsx)("div",{children:Object(u.jsx)(B,{onSubmit:function(t){e.addPost(t.posts)}})}),Object(u.jsx)("div",{className:S.a.posts,children:t})]})})),B=Object(J.a)({form:"posts"})((function(e){return Object(u.jsxs)("form",{action:"",onSubmit:e.handleSubmit,children:[Object(u.jsx)("div",{children:Object(u.jsx)(C.a,{component:I.b,name:"posts",placeholder:"Enter some posts",validate:[D.b,U]})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{children:"add new post"})})]})})),E=Object(b.b)((function(e){return{message:e.profilePage.message}}),(function(e){return{addPost:function(t){e(Object(j.b)(t))}}}))(L);var G=function(e){var t=e.profile,o=e.status,c=e.updateProfileStatus,r=e.photos,s=e.saveUserPhoto,i=e.isOwner;return Object(u.jsxs)("div",{children:[Object(u.jsx)(N,{profile:t,status:o,updateProfileStatus:c,photos:r,saveUserPhoto:s,isOwner:i}),Object(u.jsx)(E,{})]})},q=o(37),z=o(7);t.default=Object(q.compose)(Object(b.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,isAuth:e.auth.data.isAuth,authorizedUserId:e.auth.data.id,photos:e.profilePage.profile.photos}}),{GetProfile:j.a,getProfileStatus:j.d,updateProfileStatus:j.h,saveUserPhoto:j.e}),z.f)((function(e){var t=Object(b.d)((function(e){return e.auth.data.id})),o=parseInt(e.match.params.userId);return Object(r.useEffect)((function(){o||null==t?e.GetProfile(o):e.GetProfile(t)}),[o,t]),Object(u.jsx)(G,Object(c.a)(Object(c.a)({},e),{},{profile:e.profile,GetProfile:e.GetProfile,status:e.status,getProfileStatus:e.getProfileStatus,updateProfileStatus:e.updateProfileStatus,isAuth:e.isAuth,authorizedUserId:e.authorizedUserId,photos:e.photos,saveUserPhoto:e.saveUserPhoto,isOwner:!o}))}))}}]);
//# sourceMappingURL=5.96e7f276.chunk.js.map